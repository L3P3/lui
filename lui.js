'use strict';/*
 lui.js web frame work 1.3.1
 inspired by react and mithril
 L3P3.de 2022
*/
{let e=null,f=!e,g=e,l=0,u=0,w=0,x=f,y=[],z=[];
const A={},C={},D={},E=[],aa={},F=[],H=e,I=f,J=!f,K=Array,L=Object,M=L.assign,O=L.keys,ba=document,ca=window,da=ca.performance||Date,ea=a=>new Function("a","b",`return a!==b&&(${a.join("||")})`),P=a=>{const b=(a=O(a)).join(",");return D[b]||(D[b]=ea(a.map(c=>`a.${c}!==b.`+c)))},ha=(a,b)=>a===b?F:O(a).filter(c=>a[c]!==b[c]),Q=a=>a?E[a.length]||(E[a.length]=ea(a.map((b,c)=>`a[${c}]!==b[${c}]`))):H,R=(a,b)=>{const c=e,d=b,r=c.u+1;g=c.A;l=1;c.v=J;if(c.o.B!==P){var k=H;try{k=(0,c.o.B)(c.o.l||aa)}catch(N){}var p=
c.g;if(k){p&&(a=p,b=H);var q=k.length,h,t=c.j||(c.j=(new K(q)).fill(H));do{var m=t[--q];(h=k[q])&&h!==I?((f=!m)?((t[q]=e=m={o:h,K:h.l&&P(h.l),H:c,u:r,M:q,A:[],j:H,g:H,h:H,v:J}).A[0]={s:0,N:m},R(a,b),m.g&&a.insertBefore(m.h=m.g,b)):h.l&&m.K(m.o.l,h.l)&&((e=m).o=h,R(a,b)),m.h&&(b=m.h)):m&&(S(m,a),t[q]=H)}while(0<q)}else if(c.j){for(q of c.j)q&&S(q,a);c.j=H}p||(c.h=b!==d?b:H)}else{q=c.o.l.B;var n=c.o.l.W;m=c.o.l.l;t=n.length;let N=I;if(!(0>=T(t,t)+t)){h=ia();k={};p=[];var v;if(v=0<t){v="object"===typeof n[0];
for(var B of n)n=v?B.id:B,k[n]=B,p.push(n)}B=v;if(h.J){N=m&&h.K(m,h.P);for(var G of h.O)G in k||(S(h.J[G],a),delete h.J[G]);h.P=m;h.O=p}else h.J={},h.V=B?P(k[p[0]]):H,h.O=p,h.K=(h.P=m)&&P(m);for(G=c.j=new K(t);0<t;){v=p[--t];n=h.J[v];if(f=!n)(h.J[v]=e=n={o:{B:q,l:M({I:k[v]},m)},K:H,H:c,u:r,M:t,A:[],j:H,g:H,h:H,v:J}).A[0]={s:0,N:n},R(a,b),n.g&&a.insertBefore(n.h=n.g,b);else{const fa=ja(n);fa&&fa.nextSibling!==b&&ka(n,a,b);if(N||B&&h.V(k[v],n.o.l.I))(e=n).o.l=M({I:k[v]},m),R(a,b)}(G[n.M=t]=n).h&&(b=
n.h)}c.h=b!==d?b:H}}},S=(a,b)=>{b&&a.g&&(b.removeChild(a.g),b=H);if(a.j)for(const c of a.j)c&&S(c,b);U(a.A);if(a.v){let c,d;(!(d=y[c=a.u])||0>(c=d.indexOf(a)))&&(!(d=z[c])||0>(c=d.indexOf(a)))||d.splice(c,1)}},U=a=>{let b,c=a.length;for(;1<c;)switch((b=a[--c]).s){case 1:b.L&&b.L(...b.m);break;case 2:b.m=F;break;case 3:la(b);break;case 4:U(b.A)}},ja=a=>{if(a.g)return a.g;let b;a=(b=a.j)?b.length:0;let c,d;for(;0<a;)if((d=b[--a])&&(c=ja(d)))return c;return H},ka=(a,b,c)=>{if(a.g)return b.insertBefore(a.g,
c),a.g;if(a.h){let d=a.j.length;do a.j[--d]&&(c=ka(a.j[d],b,c));while(0<d)}return c},ma=a=>{for(;0!==a[0].s;){if(!a[0].U.T)return H;a[0].U.T=J;a=a[0].X}return a[0].N},W=a=>(a=ma(a))&&!a.v&&(a.v=I,y[a.u]?y[a.u].push(a):y[a.u]=[a],x||V()),ia=a=>(l<g.length?g[l++]:g[l++]={s:0,i:void 0===a?{}:a}).i,T=(a,b)=>(l<g.length?(b=g[l].i,g[l++].i=a):g[l++]={s:0,i:a},b),la=a=>{for(const b of a.Z)U(a.Y[b])},X=a=>{const b=T(a,H);return b?ha(b,a):O(a)},Y=a=>{const b=e.g;if(a){for(const c of X(a))switch(c.charCodeAt(0)){case 70:b.className=
O(a.F).filter(d=>a.F[d]).join(" ");continue;case 82:a.R(b);case 67:case 68:case 83:continue;default:b[c]=a[c]}if(a.D)for(const c of X(a.D))b.dataset[c]=a.D[c];if(a.S)for(const c of X(a.S))b.style[c]=a.S[c]}return b},Z=(a,b,c)=>({B:a,l:b?c?(b.C=c,b):b:c?{C:c}:H}),V=()=>{f=0>=u;u=da.now();w&&cancelAnimationFrame(w);x=I;w=0;for(var a;(a=y).length;){y=[];for(const b of a)if(b)for(e of b)if(e.v){if(e.g)R(H,H);else{let c=H,d=e.h,r=e,k=e;for(;!(a=(r=r.H).g););do{let p=k.M;const {j:q}=k=k.H,h=q.length;for(;++p<
h&&q[p]&&!(c=q[p].h););}while(!c&&k!==r);k=e;R(a,c);if(k.h!==d)for(;!(k=k.H).g;){d=H;for(const p of k.j)if(p&&(d=p.h))break;if(d===k.h)break;k.h=d}}f=J}}x=J;z.length&&(y=z,z=a,na())},na=()=>w||(w=requestAnimationFrame(V)),oa=a=>{let b=A[a];if(!b){const c=a.indexOf("[");A[a]=b=ba.createElement(0>c?a.substr(0):a.substr(0,c));if(0<c)for(const d of a.substring(c+1,a.length-1).split("]["))a=d.indexOf("="),0<a?b[d.substr(0,a)]=d.substr(a+1):b[d]=I}return b},pa=a=>{let b=C[a];if(!b){const c=oa(a);C[a]=b=
d=>(f&&(e.g=c.cloneNode(I)),Y(d),d&&d.C||H)}return b};ca.lui={defer:()=>(x=I,na()),defer_end:V,hook_assert:a=>{if(!a)throw A;},hook_async:(a,b,c)=>{let d;if((l<g.length?(d=g[l++],J):d=g[l++]={s:2,G:Q(b),m:b||F,i:H})||b&&d.G(d.m,b)&&(d.m=b)){void 0!==c&&(d.i=c);const r=g;a(...d.m).then(k=>d.i!==k&&d.m===b&&(d.i=k,W(r)))}return d.i},hook_dom:(a,b)=>(f&&(e.g=oa(a).cloneNode(I)),Y(b||H)),hook_effect:(a,b)=>{if(l>=g.length)g[l]={s:1,G:Q(b),m:b=b||F,L:a(...b)||H};else if(b){const c=g[l];c.G(c.m,b)&&(c.L&&c.L(...c.m),c.L=a(...(c.m=b))||H)}++l},hook_memo:(a,
b)=>l>=g.length?(g[l++]={s:0,G:Q(b),m:b=b||F,i:a(...b)}).i:b&&g[l].G(g[l].m,b)?g[l].i=a(...(g[l++].m=b)):g[l++].i,hook_model:a=>{if(l<g.length)return g[l++].i;const b=g,c=[(0,a.init)(H),{}];for(const d of O(a))c[1][d]=r=>{r=(0,a[d])(c[0],r);c[0]!==r&&(c[0]=r,W(b))};g[l++]={s:0,i:c};return c},hook_prev:T,hook_rerender:()=>{const a=ma(g);a&&(a.v=I,z[a.u]?z[a.u].push(a):z[a.u]=[a])},hook_state:a=>{if(l<g.length)return g[l++].i;const b=g,c=[a,d=>{c[0]!==d&&(c[0]=d,W(b))},()=>c[0]];g[l++]={s:0,i:c};return c},
hook_static:ia,init:a=>{let b;const c=ba.body;c.innerHTML="";(e={o:{B:()=>(Y((b=a())[0]),b[1]),l:H},K:H,H,u:0,M:0,A:[],j:H,g:c,h:c,v:I}).A[0]={s:0,N:e};y[0]=[e];V()},node:Z,node_dom:(a,b,c)=>Z(pa(a),b,c),node_map:(a,b,c)=>Z(P,{B:a,W:b,l:c||H}),now:()=>u}}