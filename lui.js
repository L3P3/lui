'use strict';/*
 lui.js web frame work 0.13.4
 inspired by react and mithril
 L3P3.de 2021
*/
{let e=null,f=!e,g=e,p=0,r=0,u=0,w=f;
const x=new Set,A=new Set,B={},C={},D={},E=[],F=[],G=e,H=f,I=!f,J=Array,K=Object,L=K.assign,M=K.keys,N=document,aa=window,ba=aa.performance||Date,ca=a=>new Function("a","b",`return a!==b&&(${a.join("||")})`),O=a=>{const b=(a=M(a)).join(",");return D[b]||(D[b]=ca(a.map(c=>`a.${c}!==b.`+c)))},da=(a,b)=>a===b?F:M(a).filter(c=>a[c]!==b[c]),P=a=>a?E[a.length]||(E[a.length]=ca(a.map((b,c)=>`a[${c}]!==b[${c}]`))):G,Q=(a,b)=>{const c=e,d=b;g=c.u;p=1;x.delete(c);if(c.s.B!==O){var h=G;try{h=c.s.B(c.s.o)}catch(z){}var l=
c.i;if(h){l&&(a=l,b=G);var q=h.length,k,n=c.m||(c.m=(new J(q)).fill(G));do{var m=n[--q];(k=h[q])&&k!==H?((f=!m)?((n[q]=e=m={s:k,L:k.o&&O(k.o),G:c,K:q,u:[],m:G,i:G,j:G}).u[0]={l:0,P:m},Q(a,b),m.i&&a.insertBefore(m.j=m.i,b)):k.o&&m.L(m.s.o,k.o)&&((e=m).s=k,Q(a,b)),m.j&&(b=m.j)):m&&(R(m,a),n[q]=G)}while(0<q)}else if(c.m){for(q of c.m)q&&R(q,a);c.m=G}l||(c.j=b!==d?b:G)}else{q=c.s.o.B;var y=c.s.o.J;m=c.s.o.o;n=y.length;if(!(0>=S(n,n)+n)){k=T();h={};l=[];y=0<n&&ea(y,h,l);if(k.H){k.aa=m!==G&&k.L(m,k.ba);
for(var t of k.$)t in h||(R(k.H[t],a),delete k.H[t]);k.ba=m;k.$=l}else k.H={},k.U=y?O(h[l[0]]):G,k.$=l,k.L=(k.ba=m)&&O(m),k.aa=H;for(t=c.m=new J(n);0<n;){const z=l[--n];let v=k.H[z];if(f=!v)(k.H[z]=e=v={s:{B:q,o:L({I:h[z]},m)},L:G,G:c,K:n,u:[],m:G,i:G,j:G}).u[0]={l:0,P:v},Q(a,b),v.i&&a.insertBefore(v.j=v.i,b);else if(v.K!==n&&(fa(v,a,b),v.K=n),k.aa||y&&k.U(h[z],v.s.o.I))(e=v).s.o=L({I:h[z]},m),Q(a,b);(t[n]=v).j&&(b=v.j)}c.j=b!==d?b:G}}},R=(a,b)=>{b&&a.i&&(b.removeChild(a.i),b=G);if(a.m)for(const c of a.m)c&&
R(c,b);U(a.u);x.delete(a);A.delete(a)},U=a=>{var b;let c=a.length;for(;1<c;)switch((b=a[--c]).l){case 1:b.M&&b.M(...b.h);break;case 2:b.h=F;break;case 4:U(b.u);break;case 3:for(const d of b.N)U(b.D[d])}},ea=(a,b,c)=>{const d="object"===typeof a[0];for(const h of a)a=d?h.id:h,b[a]=h,c.push(a);return d},fa=(a,b,c)=>{if(a.i)return b.insertBefore(a.i,c),a.i;if(a.j){let d=a.m.length;do a.m[--d]&&(c=fa(a.m[d],b,c));while(0<d)}return c},ha=a=>{for(;0!==a[0].l;){if(!a[0].T.A)return G;a[0].T.A=I;a=a[0].Z}return a[0].P},
W=a=>(a=ha(a))&&(x.add(a),w||V()),ia=()=>{const a=ha(g);a&&A.add(a)},ja=(a,b)=>{if(p>=g.length)g[p]={l:1,v:P(b),h:b=b||F,M:a(...b)||G};else if(b){const c=g[p];c.v(c.h,b)&&(c.M&&c.M(...c.h),c.M=a(...(c.h=b))||G)}++p},ka=a=>{if(p<g.length)return g[p++].g;const b=g,c=[a,d=>{c[0]!==d&&(c[0]=d,W(b))},()=>c[0]];g[p++]={l:0,g:c};return c},T=a=>(p<g.length?g[p++]:g[p++]={l:0,g:void 0===a?{}:a}).g,la=(a,b)=>p>=g.length?(g[p++]={l:0,v:P(b),h:b=b||F,g:a(...b)}).g:b&&g[p].v(g[p].h,b)?g[p].g=a(...(g[p++].h=b)):
g[p++].g,S=(a,b)=>(p<g.length?(b=g[p].g,g[p++].g=a):g[p++]={l:0,g:a},b),ma=(a,b)=>(a=setTimeout(()=>b(H),a),()=>clearTimeout(a)),na=(a,b,c)=>({X:c.Y,da:a,W:r,ca:f?r:r+b}),X=a=>{const b=S(a,G);return b?da(b,a):M(a)},Y=a=>{const b=e.i;if(a){for(const c of X(a))switch(c.charCodeAt(0)){case 70:b.className=M(a.F).filter(d=>a.F[d]).join(" ");continue;case 82:a.R(b);case 67:case 83:continue;default:b[c]=a[c]}if(a.S)for(const c of X(a.S))b.style[c]=a.S[c]}return b},Z=(a,b,c)=>({B:a,o:b?c?(b.C=c,b):b:c?{C:c}:
G}),V=()=>{f=0>=r;r=ba.now();w=H;u=0;for(e of x){if(e.i)Q(G,G);else{let a,b=G,c=e.j,d=e,h=e;for(;!(a=(d=d.G).i););do{let l=h.K;const {m:q}=h=h.G,k=q.length;for(;++l<k&&q[l]&&!(b=q[l].j););}while(!b&&h!==d);h=e;Q(a,b);if(h.j!==c)for(;!(h=h.G).i;){c=G;for(const l of h.m)if(l&&(c=l.j))break;if(c===h.j)break;h.j=c}}f=I}w=I;if(0<A.size){for(const a of A)x.add(a);A.clear();oa()}},oa=()=>u||(u=requestAnimationFrame(V)),pa=a=>{let b=B[a];if(!b){const c=a.indexOf("[");B[a]=b=N.createElement(0>c?a.substr(0):
a.substr(0,c));if(0<c)for(const d of a.substring(c+1,a.length-1).split("]["))a=d.indexOf("="),0<a?b[d.substr(0,a)]=d.substr(a+1):b[d]=H}return b},qa=a=>{let b=C[a];if(!b){const c=pa(a);C[a]=b=d=>(f&&(e.i=c.cloneNode(H)),Y(d),d&&d.C||G)}return b};aa.lui={defer:()=>(w=H,oa()),defer_end:()=>(cancelAnimationFrame(u),V()),hook_assert:a=>{if(!a)throw B;},hook_async:(a,b,c)=>{let d;if((p<g.length?(d=g[p++],I):d=g[p++]={l:2,v:P(b),h:b||F,g:G})||b&&d.v(d.h,b)&&(d.h=b)){void 0!==c&&(d.g=c);const h=g;a(...d.h).then(l=>d.g!==l&&d.h===b&&(d.g=l,W(h)))}return d.g},hook_callback:(a,b)=>{const c=T();c.h=b;return c.ea||(c.ea=(...d)=>a(...c.h,...d))},hook_delay:a=>{const [b,c]=ka(I);ja(ma,[a,c]);return b},hook_dom:(a,b)=>(f&&(e.i=pa(a).cloneNode(H)),Y(b||
G)),hook_effect:ja,hook_first:()=>f,hook_map:(a,b,c)=>{var d=G;let h=H;if(p<g.length)if((d=g[p]).O!==a){for(var l of d.N)U(d.D[l]);d=G}else if(!d.A||c&&d.v(d.h,c))d.h=c||F,d.A=H;else{if(b===d.J)return++p,d.g;h=I}l=f;const q=g,k=++p,n={},m=[],y=0<b.length&&ea(b,n,m);if(d){if(d.g=[],d.J!==b){d.J=b;for(const t of d.N)t in n||(U(d.D[t]),delete d.D[t])}}else g[k-1]=d={l:3,v:P(c),h:c||F,g:[],A:H,O:a,U:y?O(b[0]):G,N:[],D:{},J:b};for(const t of m){b=d.D[t];if(f=!b)d.D[t]=b=[{l:1,Z:q,T:d,V:G,g:G}];if(h||f||
(y?d.U(n[t],b[0].V):n[t]!==b[0].V)){g=b;p=1;try{b[0].g=a(b[0].V=n[t],...d.h)}catch(z){}}d.g.push(b[0].g)}f=l;g=q;p=k;d.N=m;return d.g},hook_memo:la,hook_object_changes:X,hook_prev:S,hook_reducer:a=>{if(p<g.length)return g[p++].g;const b=g,c=[a[0](G),(d,h)=>{d=a[d](c[0],h);c[0]!==d&&(c[0]=d,W(b))}];g[p++]={l:0,g:c};return c},hook_reducer_f:(a,b)=>{if(p<g.length)return g[p++].g;const c=g,d=[b?b():G,h=>{h=a(d[0],h);d[0]!==h&&(d[0]=h,W(c))}];g[p++]={l:0,g:d};return d},hook_rerender:ia,hook_state:ka,hook_static:T,
hook_sub:(a,b)=>{let c=G;if(p<g.length)if((c=g[p]).O!==a)U(c.u),c=G;else if(!c.A||b&&c.v(c.h,b))b&&(c.h=b),c.A=H;else return++p,c.g;const d=f,h=g,l=p;if(f=!c)(g[p]=c={l:4,v:P(b),h:b||F,g:G,O:a,A:H,u:[]}).u[0]={l:2,Z:g,T:c};g=c.u;p=1;try{c.g=a(...c.h)}catch(q){}f=d;g=h;p=l+1;return c.g},hook_transition:(a,b)=>{const c=T({Y:a});a=la(na,[a,b,c]);return c.Y=a.ca<=r?a.da:(ia(),a.W===r?a.X:a.X+(a.da-a.X)*(r-a.W)/(a.ca-a.W))},init:a=>{let b;const c=N.body;c.innerHTML="";(e={s:{B:()=>(Y((b=a())[0]),b[1]),
o:G},L:G,G,K:0,u:[],m:G,i:c,j:c}).u[0]={l:0,P:e};x.add(e);V()},node:Z,node_dom:(a,b,c)=>Z(qa(a),b,c),node_map:(a,b,c)=>Z(O,{B:a,J:b,o:c||G}),now:()=>r}}