'use strict';/*
 lui.js web frame work 0.13.1
 inspired by react and mithril
 L3P3.de 2021
*/
{let d=null,f=!0,h=d,p=0,r=0,v=f,w=d;
const y={},A={},B=d,C=f,D=!f,E=Array,aa=Function,F=Object,G=F.assign,H=F.keys,I=document,J=window,ba=J.performance||Date,K=new Set,L=new Set,M={},N=a=>{const c=(a=H(a)).join(",");return M[c]||(M[c]=new aa("a","b","return a!==b"+(0<a.length?"&&("+a.map(b=>"a."+b+"!==b."+b).join("||")+")":"")))},ca=(a,c)=>a===c?[]:H(a).filter(b=>a[b]!==c[b]),O=(a,c)=>{if(c!==B){let b=a.length;do if(a[--b]!==c[b])return D;while(0<b)}return C},P=(a,c)=>{const b=d,e=c;h=b.m;p=1;K.delete(b);if(b.l.o!==O){var g=B;try{g=
b.l.o(b.l.j)}catch(t){}var l=b.g;if(g!==B){l!==B&&(a=l,c=B);var n=g.length,k,q=b.i||(b.i=(new E(n)).fill(B));do{var m=q[--n];(k=g[n])&&k!==C?((f=m===B)?(q[n]=d=m={l:k,s:k.j&&N(k.j),u:b,A:n,m:[],i:B,g:B,h:B},m.m[0]=[m],P(a,c),m.g!==B&&a.insertBefore(m.h=m.g,c)):m.s!==B&&m.s(m.l.j,k.j)&&((d=m).l=k,P(a,c)),m.h!==B&&(c=m.h)):m!==B&&(Q(m,a),q[n]=B)}while(0<n)}else if(b.i!==B){for(n of b.i)n!==B&&Q(n,a);b.i=B}l===B&&(b.h=c!==e?c:B)}else{n=b.l.j.o;var x=b.l.j.T;m=b.l.j.j;q=x.length;if(0!==R(q,q)||0!==q){k=
S();g={};l=[];x=0<q&&T(x,g,l);if(void 0!==k.v){k.J=m!==B&&k.s(m,k.K);for(var z of k.H)z in g||(Q(k.v[z],a),delete k.v[z]);k.K=m;k.H=l}else k.v={},k.P=x?N(g[l[0]]):B,k.H=l,k.s=(k.K=m)&&N(m),k.J=C;for(z=b.i=new E(q);0<q;){const t=l[--q];let u=k.v[t];if(f=void 0===u)k.v[t]=d=u={l:{o:n,j:G({I:g[t]},m)},s:B,u:b,A:q,m:[],i:B,g:B,h:B},u.m[0]=[u],P(a,c),u.g!==B&&a.insertBefore(u.h=u.g,c);else if(u.A!==q&&(da(u,a,c),u.A=q),k.J||x&&k.P(g[t],u.l.j.I))(d=u).l.j=G({I:g[t]},m),P(a,c);(z[q]=u).h!==B&&(c=u.h)}b.h=
c!==e?c:B}}},Q=(a,c)=>{c!==B&&a.g!==B&&(c.removeChild(a.g),c=B);if(a.i!==B)for(const b of a.i)b!==B&&Q(b,c);U(a.m);K.delete(a);L.delete(a)},U=a=>{var c;let b=a.length;for(;1<b;)switch((c=a[--b])[0]){case 1:c[2]!==B&&c[2](...c[1]);break;case 2:c[1]=B;break;case 3:U(c[4]);break;case 3:for(const e of c[4])U(c[6][e])}},T=(a,c,b)=>{const e="object"===typeof a[0];for(const g of a)a=e?g.id:g,c[a]=g,b.push(a);return e},da=(a,c,b)=>{if(a.g!==B)return c.insertBefore(a.g,b),a.g;if(a.h!==B){let e=a.i.length;
do a.i[--e]!==B&&(b=da(a.i[e],c,b));while(0<e)}return b},ea=a=>{for(;a[0][0]===B;){if(!a[0][2][5])return B;a[0][2][5]=D;a=a[0][1]}return a[0][0]},W=a=>{a=ea(a);a!==B&&(K.add(a),v||V())},fa=()=>{const a=ea(h);a!==B&&L.add(a)},ha=(a,c)=>{if(p<h.length){const b=h[p++];O(b[1],c||B)||(b[2]!==B&&b[2](...b[1]),b[2]=a(...(b[1]=c||[]))||B)}else h[p++]=[1,c=c||[],a(...c)||B]},ia=a=>{if(p<h.length)return h[p++][1];const c=h,b=[a,e=>{b[0]!==e&&(b[0]=e,W(c))},()=>b[0]];h[p++]=[0,b];return b},S=a=>(p<h.length?
h[p++]:h[p++]=[0,void 0===a?{}:a])[1],ja=(a,c)=>{if(p<h.length){const b=h[p++];return O(b[1],c||B)?b[2]:b[2]=a(...(b[1]=c||[]))}a=a(...(c=c||[]));h[p++]=[0,c,a];return a},R=(a,c)=>{if(p<h.length){c=h[p++];const b=c[1];c[1]=a;return b}h[p++]=[0,a];return c},ka=(a,c)=>{const b=setTimeout(()=>{c(C)},a);return()=>{clearTimeout(b)}},X=a=>{const c=R(a,B);return c===B?H(a):ca(c,a)},Y=a=>{const c=d.g;if(a!==B){for(const b of X(a))switch(b.charCodeAt(0)){case 70:c.className=H(a.F).filter(e=>a.F[e]).join(" ");
continue;case 82:a.R(c);case 67:case 83:continue;default:c[b]=a[b]}if(a.S)for(const b of X(a.S))c.style[b]=a.S[b]}return c},Z=(a,c,b)=>({o:a,j:c?b?(c.C=b,c):c:b?{C:b}:B}),V=()=>{f=0===r;r=ba.now();v=C;w=B;for(d of K){if(d.g!==B)P(B,B);else{let a,c=B,b=d.h,e=d,g=d;for(;(a=(e=e.u).g)===B;);do{let l=g.A;const {i:n}=g=g.u,k=n.length;for(;++l<k&&(n[l]===B||(c=n[l].h)===B););}while(c===B&&g!==e);g=d;P(a,c);if(g.h!==b)for(;(g=g.u).g===B;){b=B;for(const l of g.i)if(l!==B&&(b=l.h)!==B)break;if(b===g.h)break;
g.h=b}}f=D}v=D;if(0<L.size){for(const a of L)K.add(a);L.clear();w===B&&(w=requestAnimationFrame(V))}},la=a=>{let c=y[a];if(void 0===c){const b=a.indexOf("[");y[a]=c=I.createElement(0>b?a.substr(0):a.substr(0,b));if(0<b)for(const e of a.substring(b+1,a.length-1).split("]["))a=e.indexOf("="),0<a?c[e.substr(0,a)]=e.substr(a+1):c[e]=C}return c},ma=a=>{let c=A[a];if(void 0===c){const b=la(a);A[a]=c=e=>(f&&(d.g=b.cloneNode(C)),Y(e),e!==B&&e.C||B)}return c};J.lui={defer:()=>{v=C;w===B&&(w=requestAnimationFrame(V))},defer_end:()=>{cancelAnimationFrame(w);V()},hook_assert:a=>{if(!a)throw y;},hook_async:(a,c,b)=>{const e=p<h.length?h[p++]:h[p++]=[2,B,B];if(e[1]!==B&&O(e[1],c||B))return e[2];void 0!==b&&(e[2]=b);const g=h;a(...(e[1]=c=c||[])).then(l=>{e[2]!==l&&e[1]===c&&(e[2]=l,W(g))});return e[2]},hook_callback:(a,c)=>{const b=S();b.O=c;return b.N||(b.N=(...e)=>a(...b.O,...e))},hook_delay:a=>{const [c,b]=ia(D);ha(ka,[a,b]);return c},hook_dom:(a,c)=>(f&&
(d.g=la(a).cloneNode(C)),Y(c||B)),hook_effect:ha,hook_first:()=>f,hook_map:(a,c,b)=>{var e=B;let g=C;if(p++<h.length)if((e=h[p-1])[1]!==a){for(var l of e[4])U(e[6][l]);e=B}else if(e[5]&&O(e[2],b||B)){if(c===e[7])return e[3];g=D}else e[2]=b,e[5]=C;b=b||[];e===B?h[p-1]=e=[3,a,b,[],[],C,{},c,B]:e[3]=[];l={};const n=[],k=0<c.length&&T(c,l,n),q=e[6],m=f,x=h,z=p;k&&e[8]===B&&(e[8]=N(c[0]));if(e[7]!==c){e[7]=c;for(const t of e[4])t in l||(U(q[t]),delete q[t])}for(const t of n){c=q[t];if(f=void 0===c)q[t]=
c=[[B,x,e,B,B]];if(g||f||(k?e[8](l[t],c[0][3]):l[t]!==c[0][3])){h=c;p=1;try{c[0][4]=a(c[0][3]=l[t],...b)}catch(u){}}e[3].push(c[0][4])}f=m;h=x;p=z;e[4]=n;return e[3]},hook_memo:ja,hook_object_changes:X,hook_prev:R,hook_reducer:a=>{if(p<h.length)return h[p++][1];const c=h,b=[a[0](),(e,g)=>{e=a[e](b[0],g);b[0]!==e&&(b[0]=e,W(c))}];h[p++]=[0,b];return b},hook_reducer_f:(a,c)=>{if(p<h.length)return h[p++][1];const b=h,e=[c?c():B,g=>{g=a(e[0],g);e[0]!==g&&(e[0]=g,W(b))}];h[p++]=[0,e];return e},hook_rerender:fa,
hook_state:ia,hook_static:S,hook_sub:(a,c)=>{let b=B;if(p++<h.length)if((b=h[p-1])[1]!==a)U(b[4]),b=B;else if(b[5]&&O(b[2],c||B))return b[3];const e=f,g=h,l=p;c=c||[];(f=b===B)?(h[p-1]=b=[3,a,c,B,[],C],b[4][0]=[B,h,b]):(b[2]=c,b[5]=C);h=b[4];p=1;try{b[3]=a(...c)}catch(n){}f=e;h=g;p=l;return b[3]},hook_transition:(a,c)=>{const b=S({B:a});a=ja((e,g)=>({G:b.B,M:e,D:r,L:f?r:r+g}),[a,c]);if(a.L<=r)return b.B=a.M;fa();return b.B=a.D===r?a.G:a.G+(a.M-a.G)*(r-a.D)/(a.L-a.D)},init:a=>{let c;const b=I.body;
b.innerHTML="";(d={l:{o:()=>(Y((c=a())[0]),c[1]),j:B},s:B,u:B,A:0,m:[],i:B,g:b,h:b}).m[0]=[d];K.add(d);V()},node:Z,node_dom:(a,c,b)=>Z(ma(a),c,b),node_map:(a,c,b)=>Z(O,{o:a,T:c,j:b||B}),now:()=>r}}