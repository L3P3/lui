'use strict';/*
 lui.js web frame work 1.1.1
 inspired by react and mithril
 L3P3.de 2021
*/
{let e=null,f=!e,g=e,q=0,r=0,t=0,w=f,x=[],y=[];
const z={},B={},D={},E=[],F=[],G=e,H=f,I=!f,J=Array,K=Object,L=K.assign,M=K.keys,N=document,aa=window,ba=aa.performance||Date,ca=a=>new Function("a","b",`return a!==b&&(${a.join("||")})`),O=a=>{const b=(a=M(a)).join(",");return D[b]||(D[b]=ca(a.map(c=>`a.${c}!==b.`+c)))},da=(a,b)=>a===b?F:M(a).filter(c=>a[c]!==b[c]),P=a=>a?E[a.length]||(E[a.length]=ca(a.map((b,c)=>`a[${c}]!==b[${c}]`))):G,Q=(a,b)=>{const c=e,d=b;g=c.u;q=1;c.B=I;if(c.s.G!==O){var k=G;try{k=c.s.G(c.s.o)}catch(C){}var l=c.i;if(k){l&&
(a=l,b=G);var n=k.length,h,p=c.m||(c.m=(new J(n)).fill(G));do{var m=p[--n];(h=k[n])&&h!==H?((f=!m)?((p[n]=e=m={s:h,N:h.o&&O(h.o),H:c,v:c.v+1,M:n,u:[],m:G,i:G,j:G,B:I}).u[0]={l:0,T:m},Q(a,b),m.i&&a.insertBefore(m.j=m.i,b)):h.o&&m.N(m.s.o,h.o)&&((e=m).s=h,Q(a,b)),m.j&&(b=m.j)):m&&(R(m,a),p[n]=G)}while(0<n)}else if(c.m){for(n of c.m)n&&R(n,a);c.m=G}l||(c.j=b!==d?b:G)}else{n=c.s.o.G;var A=c.s.o.L;m=c.s.o.o;p=A.length;if(!(0>=S(p,p)+p)){h=T();k={};l=[];A=0<p&&ea(A,k,l);if(h.J){h.ca=m!==G&&h.N(m,h.da);
for(var u of h.ba)u in k||(R(h.J[u],a),delete h.J[u]);h.da=m;h.ba=l}else h.J={},h.V=A?O(k[l[0]]):G,h.ba=l,h.N=(h.da=m)&&O(m),h.ca=H;for(u=c.m=new J(p);0<p;){const C=l[--p];let v=h.J[C];if(f=!v)(h.J[C]=e=v={s:{G:n,o:L({I:k[C]},m)},N:G,H:c,v:c.v+1,M:p,u:[],m:G,i:G,j:G,B:I}).u[0]={l:0,T:v},Q(a,b),v.i&&a.insertBefore(v.j=v.i,b);else if(v.M!==p&&(fa(v,a,b),v.M=p),h.ca||A&&h.V(k[C],v.s.o.I))(e=v).s.o=L({I:k[C]},m),Q(a,b);(u[p]=v).j&&(b=v.j)}c.j=b!==d?b:G}}},R=(a,b)=>{b&&a.i&&(b.removeChild(a.i),b=G);if(a.m)for(const c of a.m)c&&
R(c,b);U(a.u);if(a.B){let c,d;(!(d=x[c=a.v])||0>(c=d.indexOf(a)))&&(!(d=y[c])||0>(c=d.indexOf(a)))||d.splice(c,1)}},U=a=>{let b,c=a.length;for(;1<c;)switch((b=a[--c]).l){case 1:b.O&&b.O(...b.h);break;case 2:b.h=F;break;case 3:ha(b);break;case 4:U(b.u)}},ea=(a,b,c)=>{const d="object"===typeof a[0];for(const k of a)a=d?k.id:k,b[a]=k,c.push(a);return d},fa=(a,b,c)=>{if(a.i)return b.insertBefore(a.i,c),a.i;if(a.j){let d=a.m.length;do a.m[--d]&&(c=fa(a.m[d],b,c));while(0<d)}return c},ia=a=>{for(;0!==a[0].l;){if(!a[0].U.D)return G;
a[0].U.D=I;a=a[0].aa}return a[0].T},W=a=>(a=ia(a))&&!a.B&&(a.B=H,x[a.v]?x[a.v].push(a):x[a.v]=[a],w||V()),ja=()=>{const a=ia(g);a&&(a.B=H,y[a.v]?y[a.v].push(a):y[a.v]=[a])},ka=(a,b)=>{if(q>=g.length)g[q]={l:1,A:P(b),h:b=b||F,O:a(...b)||G};else if(b){const c=g[q];c.A(c.h,b)&&(c.O&&c.O(...c.h),c.O=a(...(c.h=b))||G)}++q},la=a=>{if(q<g.length)return g[q++].g;const b=g,c=[a,d=>{c[0]!==d&&(c[0]=d,W(b))},()=>c[0]];g[q++]={l:0,g:c};return c},T=a=>(q<g.length?g[q++]:g[q++]={l:0,g:void 0===a?{}:a}).g,ma=(a,
b)=>q>=g.length?(g[q++]={l:0,A:P(b),h:b=b||F,g:a(...b)}).g:b&&g[q].A(g[q].h,b)?g[q].g=a(...(g[q++].h=b)):g[q++].g,S=(a,b)=>(q<g.length?(b=g[q].g,g[q++].g=a):g[q++]={l:0,g:a},b),na=(a,b)=>(a=setTimeout(()=>b(H),a),()=>clearTimeout(a)),ha=a=>{for(const b of a.X)U(a.K[b])},oa=(a,b,c)=>({Z:c.$,fa:a,Y:r,ea:f?r:r+b}),X=a=>{const b=S(a,G);return b?da(b,a):M(a)},Y=a=>{const b=e.i;if(a){for(const c of X(a))switch(c.charCodeAt(0)){case 70:b.className=M(a.F).filter(d=>a.F[d]).join(" ");continue;case 82:a.R(b);
case 67:case 83:continue;default:b[c]=a[c]}if(a.S)for(const c of X(a.S))b.style[c]=a.S[c]}return b},Z=(a,b,c)=>({G:a,o:b?c?(b.C=c,b):b:c?{C:c}:G}),V=()=>{f=0>=r;r=ba.now();w=H;t=0;for(var a;(a=x).length;){x=[];for(const b of a)if(b)for(e of b)if(e.B){if(e.i)Q(G,G);else{let c=G,d=e.j,k=e,l=e;for(;!(a=(k=k.H).i););do{let n=l.M;const {m:h}=l=l.H,p=h.length;for(;++n<p&&h[n]&&!(c=h[n].j););}while(!c&&l!==k);l=e;Q(a,c);if(l.j!==d)for(;!(l=l.H).i;){d=G;for(const n of l.m)if(n&&(d=n.j))break;if(d===l.j)break;
l.j=d}}f=I}}w=I;y.length&&(x=y,y=a,pa())},pa=()=>t||(t=requestAnimationFrame(V)),qa=a=>{let b=z[a];if(!b){const c=a.indexOf("[");z[a]=b=N.createElement(0>c?a.substr(0):a.substr(0,c));if(0<c)for(const d of a.substring(c+1,a.length-1).split("]["))a=d.indexOf("="),0<a?b[d.substr(0,a)]=d.substr(a+1):b[d]=H}return b},ra=a=>{let b=B[a];if(!b){const c=qa(a);B[a]=b=d=>(f&&(e.i=c.cloneNode(H)),Y(d),d&&d.C||G)}return b};aa.lui={defer:()=>(w=H,pa()),defer_end:()=>(cancelAnimationFrame(t),V()),hook_assert:a=>{if(!a)throw z;},hook_async:(a,b,c)=>{let d;if((q<g.length?(d=g[q++],I):d=g[q++]={l:2,A:P(b),h:b||F,g:G})||b&&d.A(d.h,b)&&(d.h=b)){void 0!==c&&(d.g=c);const k=g;a(...d.h).then(l=>d.g!==l&&d.h===b&&(d.g=l,W(k)))}return d.g},hook_callback:(a,b)=>{const c=T();c.h=b;return c.ga||(c.ga=(...d)=>a(...c.h,...d))},hook_delay:a=>{const [b,c]=la(I);ka(na,[a,c]);return b},hook_dom:(a,b)=>(f&&(e.i=qa(a).cloneNode(H)),Y(b||
G)),hook_effect:ka,hook_first:()=>f,hook_map:(a,b,c)=>{let d=G,k=H;if(q<g.length)if((d=g[q]).P!==a)ha(d),d=G;else if(!d.D||c&&d.A(d.h,c))d.h=c||F,d.D=H;else{if(b===d.L)return++q,d.g;k=I}const l=f,n=g,h=++q,p={},m=[],A=0<b.length&&ea(b,p,m);if(d){if(d.g=[],d.L!==b){d.L=b;for(const u of d.X)u in p||(U(d.K[u]),delete d.K[u])}}else g[h-1]=d={l:3,A:P(c),h:c||F,g:[],D:H,P:a,V:A?O(b[0]):G,X:[],K:{},L:b};for(const u of m){b=d.K[u];if(f=!b)d.K[u]=b=[{l:1,aa:n,U:d,W:G,g:G}];if(k||f||(A?d.V(p[u],b[0].W):p[u]!==
b[0].W)){g=b;q=1;try{b[0].g=a(b[0].W=p[u],...d.h)}catch(C){}}d.g.push(b[0].g)}f=l;g=n;q=h;d.X=m;return d.g},hook_memo:ma,hook_object_changes:X,hook_prev:S,hook_reducer:a=>{if(q<g.length)return g[q++].g;const b=g,c=[a[0](G),(d,k)=>{d=a[d](c[0],k);c[0]!==d&&(c[0]=d,W(b))}];g[q++]={l:0,g:c};return c},hook_reducer_f:(a,b)=>{if(q<g.length)return g[q++].g;const c=g,d=[b?b():G,k=>{k=a(d[0],k);d[0]!==k&&(d[0]=k,W(c))}];g[q++]={l:0,g:d};return d},hook_rerender:ja,hook_state:la,hook_static:T,hook_sub:(a,b)=>
{let c=G;if(q<g.length)if((c=g[q]).P!==a)U(c.u),c=G;else if(!c.D||b&&c.A(c.h,b))b&&(c.h=b),c.D=H;else return++q,c.g;const d=f,k=g,l=q;if(f=!c)(g[q]=c={l:4,A:P(b),h:b||F,g:G,P:a,D:H,u:[]}).u[0]={l:2,aa:g,U:c};g=c.u;q=1;try{c.g=a(...c.h)}catch(n){}f=d;g=k;q=l+1;return c.g},hook_transition:(a,b)=>{const c=T({$:a});a=ma(oa,[a,b,c]);return c.$=a.ea<=r?a.fa:(ja(),a.Y===r?a.Z:a.Z+(a.fa-a.Z)*(r-a.Y)/(a.ea-a.Y))},init:a=>{let b;const c=N.body;c.innerHTML="";(e={s:{G:()=>(Y((b=a())[0]),b[1]),o:G},N:G,H:G,v:0,
M:0,u:[],m:G,i:c,j:c,B:H}).u[0]={l:0,T:e};x[0]=[e];V()},node:Z,node_dom:(a,b,c)=>Z(ra(a),b,c),node_map:(a,b,c)=>Z(O,{G:a,L:b,o:c||G}),now:()=>r}}