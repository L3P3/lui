'use strict';/*
 lui.js web frame work 1.4.1
 inspired by react and mithril
 L3P3.de 2023
*/
{let e=null,g=!e,h=e,l=0,u=0,w=0,x=g,y=[],z=[];
const A={},C={},D={},E=[],F=[],aa={},G=e,I=g,J=!g,K=Array,L=Object,M=L.assign,N=L.keys,ba=document,ca=window,da=ca.performance||Date,ea=a=>new Function("a","b",`return a!==b&&(${a.join("||")})`),P=a=>{const b=(a=N(a)).join(",");return D[b]||(D[b]=ea(a.map(c=>`a.${c}!==b.`+c)))},ha=(a,b)=>a===b?F:N(a).filter(c=>a[c]!==b[c]),Q=a=>a?E[a.length]||(E[a.length]=ea(a.map((b,c)=>`a[${c}]!==b[${c}]`))):G,R=(a,b)=>{const c=e,d=b,p=c.u+1;h=c.A;l=1;c.v=J;if(c.o.B!==P){var f=G;try{f=(0,c.o.B)(c.o.l||aa)}catch(O){}var q=
c.g;if(f){q&&(a=q,b=G);var r=f.length,k,t=c.j||(c.j=(new K(r)).fill(G));do{var m=t[--r];(k=f[r])&&k!==I?((g=!m)?((t[r]=e=m={o:k,K:k.l&&P(k.l),H:c,u:p,M:r,A:[],j:G,g:G,h:G,v:J}).A[0]={s:0,N:m},R(a,b),m.g&&a.insertBefore(m.h=m.g,b)):k.l&&m.K(m.o.l,k.l)&&((e=m).o=k,R(a,b)),m.h&&(b=m.h)):m&&(S(m,a),t[r]=G)}while(0<r)}else if(c.j){for(r of c.j)r&&S(r,a);c.j=G}q||(c.h=b!==d?b:G)}else{r=c.o.l.B;var n=c.o.l.W;m=c.o.l.l;t=n.length;let O=I;if(!(0>=T(t,t)+t)){k=ia();f={};q=[];var v;if(v=0<t){v="object"===typeof n[0];
for(var B of n)n=v?B.id:B,f[n]=B,q.push(n)}B=v;if(k.J){O=m&&k.K(m,k.P);for(var H of k.O)H in f||(S(k.J[H],a),delete k.J[H]);k.P=m;k.O=q}else k.J={},k.V=B?P(f[q[0]]):G,k.O=q,k.K=(k.P=m)&&P(m);for(H=c.j=new K(t);0<t;){v=q[--t];n=k.J[v];if(g=!n)(k.J[v]=e=n={o:{B:r,l:M({I:f[v]},m)},K:G,H:c,u:p,M:t,A:[],j:G,g:G,h:G,v:J}).A[0]={s:0,N:n},R(a,b),n.g&&a.insertBefore(n.h=n.g,b);else{const fa=ja(n);fa&&fa.nextSibling!==b&&ka(n,a,b);if(O||B&&k.V(f[v],n.o.l.I))(e=n).o.l=M({I:f[v]},m),R(a,b)}(H[n.M=t]=n).h&&(b=
n.h)}c.h=b!==d?b:G}}},S=(a,b)=>{b&&a.g&&(a.g.remove(),b=G);if(a.j)for(var c of a.j)c&&S(c,b);b=a.A;let d=b.length;for(;1<d;)switch((c=b[--d]).s){case 1:c.L&&c.L(...c.m);break;case 2:c.m=F}if(a.v){let p,f;(!(f=y[p=a.u])||0>(p=f.indexOf(a)))&&(!(f=z[p])||0>(p=f.indexOf(a)))||f.splice(p,1)}},ja=a=>{if(a.g)return a.g;let b;a=(b=a.j)?b.length:0;let c,d;for(;0<a;)if((d=b[--a])&&(c=ja(d)))return c;return G},ka=(a,b,c)=>{if(a.g)return b.insertBefore(a.g,c),a.g;if(a.h){let d=a.j.length;do a.j[--d]&&(c=ka(a.j[d],
b,c));while(0<d)}return c},la=a=>{for(;0!==a[0].s;){if(!a[0].U.T)return G;a[0].U.T=J;a=a[0].X}return a[0].N},V=a=>(a=la(a))&&!a.v&&(a.v=I,y[a.u]?y[a.u].push(a):y[a.u]=[a],x||U()),ia=a=>(l<h.length?h[l++]:h[l++]={s:0,i:void 0===a?{}:a}).i,T=(a,b)=>(l<h.length?(b=h[l].i,h[l++].i=a):h[l++]={s:0,i:a},b),W=a=>{const b=T(a,G);return b?ha(b,a):N(a)},X=a=>{const b=e.g;if(a){for(const c of W(a)){switch(c.charCodeAt(0)){case 70:b.className=N(a.F).filter(d=>a.F[d]).join(" ");continue;case 82:a.R(b);case 67:case 68:case 83:continue}b[c]=
a[c]}if(a.D)for(const c of W(a.D))b.dataset[c]=a.D[c];if(a.S)for(const c of W(a.S))b.style[c]=a.S[c]}return b},Y=(a,b,c)=>({B:a,l:b?c?(b.C=c,b):b:c?{C:c}:G}),U=()=>{g=0>=u;u=da.now();w&&cancelAnimationFrame(w);x=I;w=0;for(var a;(a=y).length;){y=[];for(const b of a)if(b)for(e of b)if(e.v){if(e.g)R(G,G);else{let c=G,d=e.h,p=e,f=e;for(;!(a=(p=p.H).g););do{let q=f.M;const {j:r}=f=f.H,k=r.length;for(;++q<k&&r[q]&&!(c=r[q].h););}while(!c&&f!==p);f=e;R(a,c);if(f.h!==d)for(;!(f=f.H).g;){d=G;for(const q of f.j)if(q&&
(d=q.h))break;if(d===f.h)break;f.h=d}}g=J}}x=J;z.length&&(y=z,z=a,ma())},ma=()=>w||(w=requestAnimationFrame(U)),Z=a=>{let b=A[a];if(!b){const c=a.indexOf("[");A[a]=b=ba.createElement(0>c?a:a.substring(0,c));if(0<c)for(const d of a.substring(c+1,a.length-1).split("]["))a=d.indexOf("="),0<a?b[d.substring(0,a)]=d.substr(a+1):b[d]=I}return b},na=a=>{let b=C[a];if(!b){const c=Z(a);C[a]=b=d=>(g&&(e.g=c.cloneNode(I)),X(d),d&&d.C||G)}return b};ca.lui={defer:()=>(x=I,ma()),defer_end:U,dom_define:(a,b,c)=>{b=Z(b);c&&(b=b.cloneNode(I),c.D&&(M(b.dataset,c.D),delete c.D),c.S&&(M(b.style,c.S),delete c.S),M(b,c));A["#"+a]=b},hook_assert:a=>{if(!a)throw A;},hook_async:(a,b,c)=>{let d;if((l<h.length?(d=h[l++],J):d=h[l++]={s:2,G:Q(b),m:b||F,i:G})||b&&d.G(d.m,b)&&(d.m=b)){void 0!==c&&(d.i=c);const p=h;a(...d.m).then(f=>d.i!==f&&d.m===b&&(d.i=f,V(p)))}return d.i},hook_dom:(a,b)=>(g&&(e.g=Z(a).cloneNode(I)),X(b||G)),hook_effect:(a,b)=>{if(l>=h.length)h[l]=
{s:1,G:Q(b),m:b=b||F,L:a(...b)||G};else if(b){const c=h[l];c.G(c.m,b)&&(c.L&&c.L(...c.m),c.L=a(...(c.m=b))||G)}++l},hook_memo:(a,b)=>l>=h.length?(h[l++]={s:0,G:Q(b),m:b=b||F,i:a(...b)}).i:b&&h[l].G(h[l].m,b)?h[l].i=a(...(h[l++].m=b)):h[l++].i,hook_model:a=>{if(l<h.length)return h[l++].i;const b=h,c=[(0,a.init)(G),{}];for(const d of N(a))c[1][d]=(...p)=>{p=(0,a[d])(c[0],...p);c[0]!==p&&(c[0]=p,V(b))};h[l++]={s:0,i:c};return c},hook_prev:T,hook_rerender:()=>{const a=la(h);a&&(a.v=I,z[a.u]?z[a.u].push(a):
z[a.u]=[a])},hook_state:a=>{if(l<h.length)return h[l++].i;const b=h,c=[a,d=>{c[0]!==d&&(c[0]=d,V(b))},()=>c[0]];h[l++]={s:0,i:c};return c},hook_static:ia,init:(a,b=ba.body)=>{let c;b.innerHTML="";(e={o:{B:()=>(X((c=a())[0]),c[1]),l:G},K:G,H:G,u:0,M:0,A:[],j:G,g:b,h:b,v:I}).A[0]={s:0,N:e};y[0]=[e];U()},node:Y,node_dom:(a,b,c)=>Y(na(a),b,c),node_map:(a,b,c)=>Y(P,{B:a,W:b,l:c||G}),now:()=>u}}