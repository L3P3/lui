'use strict';function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function e(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if("number"==typeof a.length)return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}function f(a){if(!(a instanceof Array)){a=e(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function k(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b};/*
 lui.js web frame work 1.4.4
 inspired by react and mithril
 L3P3.de 2024
*/
(function(){var l=null,n=!l,y=l,z=0,A=0,B=0,C=n,D=[[]],E=[[]],F={},ba={},ca={},da=[],G=[],ea={},H=l,J=n,K=!n,fa=/[A-Z]/g,L=Array,M=Object,N=M.assign,O=M.keys,ha=M.freeze||function(a){return a},ia=M.isFrozen||function(a){return null===a||"object"!==typeof a},ja=document,ka=window,la=ka.performance||Date;
function ma(a){return void 0===a&&P("model state must not contain undefined, missing return?"),ia(a)||(ha(a).constructor!==L&&(a.constructor!==M&&P("model state must not contain shit like "+a.constructor.name),a=M.values(a)),a.forEach(ma))}function na(a){a=a.o.u;return a===Q?"list":a.name_||a.name||"?"}function oa(){var a=[],b=l,c=H;for(l&&(a[0]="$"+z);b;)a.unshift(na(b)+(c!==H?":"+c:"")),c=b.L,b=b.G;return a.join("/")||"-"}function pa(){console.log.apply(console,f(k.apply(0,arguments)))}
function qa(a){var b=k.apply(1,arguments);pa.apply(null,["lui "+oa()+": "+a].concat(f(b)))}function P(a){throw Error("lui: "+a);}function ra(a){pa("lui "+a+": error in callback");l=H}function R(a,b,c){try{return a.apply(null,f(b))}catch(d){throw ra(c),d;}}function ta(a,b){a===b||a&&b&&JSON.stringify(O(a))===JSON.stringify(O(b))||P("object keys mismatch")}
function S(a,b){y||P("hook called outside of hook context");b&&(b.constructor!==L&&P("deps must be in an array"),0===b.length&&P("deps must not be empty"));a!==H&&z<y.length&&(y[z].A!==a&&P("inconsistent hook order"),y[z].l&&ua(y[z].l,b))}function U(a,b){S(H,H);a!==V(a,a)&&P(b+" changed between renderings")}function ua(a,b){b?a.length!==b.length&&P("deps length changed"):0<a.length&&P("deps presence changed")}function va(a){return new Function("a","b","return a!==b&&("+a.join("||")+")")}
function Q(a){var b=(a=O(a)).join(",");return ca[b]||(0===a.length&&P("object empty"),a.some(function(c){return(c.includes("-")||"0123456789".includes(c.charAt(0)))&&P("invalid key: "+c)}),ca[b]=va(a.map(function(c){return"a."+c+"!==b."+c})))}function wa(a,b){return ta(a,b),a===b?G:O(a).filter(function(c){return a[c]!==b[c]})}function xa(a){return a?da[a.length]||(0===a.length&&P("deps must not be empty"),da[a.length]=va(a.map(function(b,c){return"a["+c+"]!==b["+c+"]"}))):H}
function W(a,b){var c=l,d=b,q=c.s+1;y=c.N;z=0;c.v=K;if(c.o.u!==Q){var g=H;try{g=(0,c.o.u)(c.o.m||ea)}catch(sa){if(sa!==F)throw sa;}var r=c.g;"object"!==typeof g&&P("components need to return child list or null");if(g){r&&(a=r,b=H);var h=g.length,m;"number"!==typeof h&&P("childs must be returned in a list");0===h&&P("returned childs list empty");c.h&&h!==c.h.length&&P("returned childs count changed");var w=c.h||(c.h=(new L(h)).fill(H));do{var t=w[--h];if((m=g[h])&&m!==J){t&&t.o.u!==m.u&&P("child component changed at "+
h);if(n=!t)w[h]=l=t={o:m,M:m.m&&Q(m.m),G:c,s:q,L:h,N:[],h:H,g:H,i:H,v:K},W(a,b),t.g&&a.insertBefore(t.i=t.g,b);else if(ta(t.o.m,m.m),m.m&&t.M(t.o.m,m.m))(l=t).o=m,W(a,b);t.i&&(b=t.i)}else t&&(X(t,a),w[h]=H)}while(0<h)}else if(c.h){q=e(c.h);for(g=q.next();!g.done;g=q.next())(g=g.value)&&X(g,a);c.h=H}r||(c.i=b!==d?b:H)}else{g=c.o.m;r=g.u;var v=g.W;g=g.m;"object"===typeof v&&v&&v.constructor===L||P("list_data must be an array");"object"!==typeof g&&P("props must be an object");U(r,"item component");
U(g&&O(g).join(","),"common props");h=v.length;t=J;if(!(0>=V(h,h)+h)){m=Y();w={};var T=[],I;if(I=0<h){I="object"===typeof v[0];var p=Y();p.T||(v[0]!==H&&["object","string","number"].includes(p.T=typeof v[0])||P("item type invalid"),I&&(!["string","number"].includes(p.X=typeof v[0].id)&&P("item id type invalid"),p.keys=O(v[0]).join(",")));for(var u=e(v),x=u.next();!x.done;x=u.next())x=x.value,x===H&&P("item is null"),typeof x!==p.T&&P("item type changed"),I&&(typeof x.id!==p.X&&P("item id type changed"),
O(x).join(",")!==p.keys&&P("item keys differ of "+x.id));v=e(v);for(x=v.next();!x.done;x=v.next())p=x.value,u=I?p.id:p,u in w&&P("item key not unique: "+u),w[u]=p,T.push(u)}h||Y();if(m.K){t=g&&m.M(g,m.P);v=e(m.O);for(p=v.next();!p.done;p=v.next())p=p.value,p in w||(X(m.K[p],a),delete m.K[p]);m.P=g;m.O=T}else m.K={},m.V=I?Q(w[T[0]]):H,m.O=T,m.M=(m.P=g)&&Q(g);for(v=c.h=new L(h);0<h;){p=T[--h];u=m.K[p];if(n=!u)m.K[p]=l=u={o:{u:r,m:N({I:w[p]},g)},M:H,G:c,s:q,L:h,N:[],h:H,g:H,i:H,v:K},W(a,b),u.g&&a.insertBefore(u.i=
u.g,b);else if((x=ya(u))&&x.nextSibling!==b&&za(u,a,b),t||I&&m.V(w[p],u.o.m.I))(l=u).o.m=N({I:w[p]},g),W(a,b);(v[u.L=h]=u).i&&(b=u.i)}c.i=b!==d?b:H}}}function X(a,b){b&&a.g&&(b.removeChild(a.g),b=H);if(a.h)for(var c=e(a.h),d=c.next();!d.done;d=c.next())(d=d.value)&&X(d,b);b=a.N;for(d=b.length;1<d;)switch((c=b[--d]).A){case 3:c.B&&c.B.apply(c,f(c.l));break;case 4:c.l=G}if(a.v){var q,g;(!(g=D[q=a.s])||0>(q=g.indexOf(a)))&&(!(g=E[q])||0>(q=g.indexOf(a)))||g.splice(q,1)}}
function ya(a){if(a.g)return a.g;var b;a=(b=a.h)?b.length:0;for(var c,d;0<a;)if((d=b[--a])&&(c=ya(d)))return c;return H}function za(a,b,c){if(a.g)return b.insertBefore(a.g,c);if(a.i){var d=a.h.length;do a.h[--d]&&(c=za(a.h[d],b,c));while(0<d)}return c}function Aa(a){return!a.v&&(a.v=J,D[a.s]?D[a.s].push(a):D[a.s]=[a],C||Z())}function Y(a){return S(6,H),(z<y.length?y[z++]:y[z++]={A:6,j:void 0===a?{}:a}).j}function V(a,b){return S(9,H),z<y.length?(b=y[z].j,y[z++].j=a):y[z++]={A:9,j:a},b}
function Ba(a){"object"===typeof a&&a||P("object required");var b=V(a,H);return b?wa(b,a):O(a)}
function Ca(a){U(!a,"attributes presence");var b=l.g;if(a){for(var c=e(Ba(a)),d=c.next();!d.done;d=c.next()){d=d.value;1<d.length&&d.charAt(0).toLowerCase()!==d.charAt(0)&&P("capital prop: "+d);switch(d.charCodeAt(0)){case 70:"object"===typeof a.F&&a.F||P("invalid css flags");b.className=O(a.F).filter(function(q){return a.F[q]}).join(" ");continue;case 82:"function"!==typeof a.R&&P("invalid ref"),a.R(b);case 67:case 68:case 83:continue}97>d.charCodeAt(0)&&P("invalid prop: "+d);b[d]=a[d]}U(!a.D,"dataset presence");
if(a.D)for(c=e(Ba(a.D)),d=c.next();!d.done;d=c.next())d=d.value,b.setAttribute("data-"+d.replace(fa,"-$&").toLowerCase(),a.D[d]);U(!a.S,"style presence");if(a.S)for(c=e(Ba(a.S)),d=c.next();!d.done;d=c.next())d=d.value,b.style[d]=a.S[d]}return b}function Da(a,b,c){return"string"===typeof a&&P("component expected, use node_dom instead"),c&&c.constructor!==L&&P("invalid childs type"),{u:a,m:b?c?(b.C=c,b):b:c?{C:c}:H}}
function Z(){n=0>=A;A=la.now();B&&cancelAnimationFrame(B);C=J;B=0;for(var a,b=0;(a=D).length;){10<++b&&P("rerender loop detected");D=[];a=e(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value){c=e(c);for(var d=c.next();!d.done;d=c.next())if(l=d.value,l.v){if(l.g)W(H,H);else{var q,g=H;d=l.i;for(var r=l,h=l;!(q=(r=r.G).g););do for(var m=h.L,w=(h=h.G).h,t=w.length;++m<t&&w[m]&&!(g=w[m].i););while(!g&&h!==r);h=l;W(q,g);if(h.i!==d)for(;!(h=h.G).g;){d=H;q=e(h.h);for(g=q.next();!(g.done||(g=g.value)&&
(d=g.i));g=q.next());if(d===h.i)break;h.i=d}}n=K}}}C=K;l=y=H;E.length&&(D=E,E=a,Ea())}function Ea(){return B||(B=requestAnimationFrame(Z))}
function Fa(a){var b=F[a];if(!b){a.startsWith("#")&&P("dom: unknown handle");var c=a.indexOf("[");b=0>c?a:a.substr(0,c);(0===b.length||b!==b.toLowerCase()||b.includes(" ")||b.includes("#")||b.includes("."))&&P("dom: invalid tag");F[a]=b=ja.createElement(b);if(0<c)for(!a.endsWith("]")&&P("dom: ] missing"),a=e(a.substring(c+1,a.length-1).split("][")),c=a.next();!c.done;c=a.next()){c=c.value;!c&&P("dom: empty attribute");(c.includes("[")||c.includes("]"))&&P("dom: attributes screwed up");var d=c.indexOf("=");
c.includes(" ")&&(0>d||c.indexOf(" ")<d)&&P("dom: space in attribute name");0<d?b[c.substr(0,d)]=c.substr(d+1):b[c]=J}}return b}function Ga(a){a&&"string"===typeof a||P("dom: descriptor string expected");var b=ba[a];if(!b){var c=Fa(a);ba[a]=b=function(d){return n&&(l.g=c.cloneNode(J)),Ca(d),d&&d.C||H};b.name_="$"+a}return b}ka.onerror=function(){return l&&qa("error in component"),D=E=[],K};var Ha=L.prototype;Ha.fill||(Ha.fill=function(a){for(var b=this.length,c=0;c<b;++c)this[c]=a;return this});define({defer:function(){return l&&P("defer while rendering"),C=J,Ea()},defer_end:function(){return l&&P("defer_end while rendering"),C||P("nothing was deferred"),Z()},dom_define:function(a,b,c){F["#"+a]&&P("dom_define: handle exists");b=Fa(b);c&&(c&&(c.C&&P("dom_define cannot have childs"),c.R&&P("dom_define cannot have a ref")),b=b.cloneNode(J),c.D&&(N(b.dataset,c.D),delete c.D),c.S&&(N(b.style,c.S),delete c.S),N(b,c));F["#"+a]=b},hook_assert:function(a){S(H,H);if(!a)throw F;},hook_async:function(a,
b,c){S(4,b);var d,q=oa();if((z<y.length?(d=y[z++],K):d=y[z++]={A:4,J:xa(b),l:b||G,j:H})||b&&d.J(d.l,b)&&(d.l=b)){void 0!==c&&(d.j=c);var g=l;a.apply(null,f(d.l)).then(function(r){return d.j!==r&&d.l===b&&(d.j=r,Aa(g))}).catch(function(r){ra(q);throw r;})}return d.j},hook_dom:function(a,b){return S(H,H),l.g?n&&P("hook_dom called twice"):n||P("hook_dom skipped before"),b&&(b.C&&P("hook_dom cannot have childs"),b.R&&P("hook_dom cannot have a ref")),n&&(l.g=Fa(a).cloneNode(J)),Ca(b||H)},hook_effect:function(a,
b){S(3,b);if(z>=y.length)y[z]={A:3,J:xa(b),l:b=b||G,B:a.apply(null,f(b))||H};else if(b){var c=y[z];c.J(c.l,b)&&(c.B&&c.B.apply(c,f(c.l)),c.B=a.apply(null,f(c.l=b))||H)}y[z].B&&y[z].B.then&&P("effect function must be synchronous");++z},hook_memo:function(a,b){return S(8,b),z>=y.length?(y[z++]={A:8,J:xa(b),l:b=b||G,j:a.apply(null,f(b))}).j:b&&y[z].J(y[z].l,b)?y[z].j=a.apply(null,f(y[z++].l=b)):y[z++].j},hook_model:function(a){S(10,H);"object"===typeof a&&a||P("mutations object required");"function"!==
typeof a.init&&P("init mutation required for initial value");if(z<y.length)return y[z++].j;var b=l,c=oa(),d=[R(a.init,[H],c+" -> #init"),{}];R(ma,[d[0]],c+" -> #init");for(var q=e(O(a)),g=q.next(),r={};!g.done;r={H:r.H},g=q.next())r.H=g.value,d[1][r.H]=function(h){return function(){var m=R(a[h.H],[d[0]].concat(f(k.apply(0,arguments))),c+" -> #"+h.H);d[0]!==m&&(R(ma,[m],c+" -> #"+h.H),d[0]=m,Aa(b))}}(r);y[z++]={A:10,j:d};return d},hook_prev:V,hook_rerender:function(){S(H,H);var a=l;a.v=J;E[a.s]?E[a.s].push(a):
E[a.s]=[a]},hook_state:function(a){S(5,H);if(z<y.length)return y[z++].j;var b=l,c=[a,function(d){c[0]!==d&&(c[0]=d,Aa(b))},function(){return c[0]}];y[z++]={A:5,j:c};return c},hook_static:Y,init:function(a,b){function c(){return(!(d=a())||2!==d.length)&&P("root component must return [props, childs]"),U(!d[0],"attributes presence"),d[0]!==H&&("object"!==typeof d[0]&&P("invalid props type"),ta(V(d[0],d[0]),d[0]),d[0].C&&P("root childs must be in second return value")),Ca(d[0]),d[1]}b=void 0===b?ja.body:
b;"function"!==typeof a&&P("no init function specified");b instanceof HTMLElement||P("invalid root element");b.U&&P("root element already mounted");b.U=1;var d;b.innerHTML="";c.name_="$root";D[0].push({o:{u:c,m:H},M:H,G:H,s:0,L:0,N:[],h:H,g:b,i:b,v:J});l=y=H;Z()},node:Da,node_dom:function(a,b,c){return Da(Ga(a),b,c)},node_map:function(a,b,c){return Da(Q,{u:a,W:b,m:c||H})},now:function(){return A}})})()