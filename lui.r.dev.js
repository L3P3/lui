'use strict';function aa(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}function e(a){var c="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):{next:aa(a)}}function g(a){if(!(a instanceof Array)){a=e(a);for(var c,b=[];!(c=a.next()).done;)b.push(c.value);a=b}return a};/*
 lui.js web frame work 1.1.3
 inspired by react and mithril
 L3P3.de 2021
*/
(function(){var h=null,l=!h,q=h,t=0,v=0,w=0,y=l,z=[],B=[],D={},ba={},ca={},da=[],E=[],F=h,G=l,H=!l,J=Array,ea=Object,fa=ea.assign,K=ea.keys,ha=document,ia=window,ja=ia.performance||Date;
function ka(a,c){for(var b=[],d=1;d<arguments.length;++d)b[d-1]=arguments[d];d=console.log;var m=d.apply,f=console;b=g(b);var p=[],k=q,n=F;if(k){for(p.unshift("$"+(t-1));0!==k[0].i;)p.unshift(1===k[0].i?"hook_map["+("object"===typeof k[0].K?k[0].K.id:k[0].K)+"]":"hook_sub"),k=k[0].V;k=k[0].T}for(;k;){var u=k.s.A;p.unshift((u===L?"list":u.name_||u.name||"?")+(n?":"+n:""));n=k.O;k=k.J}m.call(d,f,["lui "+(p.join("/")||"-")+": "+a].concat(b))}function M(a){throw Error("lui: "+a);}
function N(a,c){a===c||a&&c&&JSON.stringify(K(a))===JSON.stringify(K(c))||M("object keys mismatch")}function O(a,c,b){q||M("hook called outside of hook context");b&&(b.constructor!==J&&M("deps must be in an array"),0===b.length&&M("deps must not be empty"));c&&0!==q[0].i&&M("hook called outside of component rendering");a!==F&&t<q.length&&(q[t].i!==a&&M("inconsistent hook order"),q[t].h&&ma(q[t].h,b))}function P(a,c){O(F,H,F);a!==Q(a,a)&&M(c+" changed between renderings")}
function ma(a,c){c?a.length!==c.length&&M("deps length changed"):0<a.length&&M("deps presence changed")}function na(a){return new Function("a","b","return a!==b&&("+a.join("||")+")")}function L(a){var c=(a=K(a)).join(",");return ca[c]||(0===a.length&&M("object empty"),a.some(function(b){return(b.includes("-")||"0123456789".includes(b.charAt(0)))&&M("invalid key: "+b)}),ca[c]=na(a.map(function(b){return"a."+b+"!==b."+b})))}
function oa(a,c){return N(a,c),a===c?E:K(a).filter(function(b){return a[b]!==c[b]})}function R(a){return a?da[a.length]||(0===a.length&&M("deps must not be empty"),da[a.length]=na(a.map(function(c,b){return"a["+b+"]!==b["+b+"]"}))):F}
function S(a,c){var b=h,d=c,m=b.v+1;q=b.u;t=1;b.D=H;if(b.s.A!==L){var f=F;try{f=b.s.A(b.s.o)}catch(la){if(la!==D)throw la;}var p=b.j;"object"!==typeof f&&M("components need to return child list or null");if(f){p&&(a=p,c=F);var k=f.length,n;"number"!==typeof k&&M("childs must be returned in a list");0===k&&M("returned childs list empty");b.l&&k!==b.l.length&&M("returned childs count changed");var u=b.l||(b.l=(new J(k)).fill(F));do{var r=u[--k];if((n=f[k])&&n!==G){r&&r.s.A!==n.A&&M("child component changed at "+
k);if(l=!r)(u[k]=h=r={s:n,P:n.o&&L(n.o),J:b,v:m,O:k,u:[],l:F,j:F,m:F,D:H}).u[0]={i:0,T:r},S(a,c),r.j&&a.insertBefore(r.m=r.j,c);else if(N(r.s.o,n.o),n.o&&r.P(r.s.o,n.o))(h=r).s=n,S(a,c);r.m&&(c=r.m)}else r&&(T(r,a),u[k]=F)}while(0<k)}else if(b.l){m=e(b.l);for(f=m.next();!f.done;f=m.next())(f=f.value)&&T(f,a);b.l=F}p||(b.m=c!==d?c:F)}else{f=b.s.o;p=f.A;var x=f.N;f=f.o;"object"===typeof x&&x&&x.constructor===J||M("list_data must be an array");"object"!==typeof f&&M("props must be an object");P(p,"item component");
P(f&&K(f).join(","),"common props");k=x.length;r=G;if(!(0>=Q(k,k)+k)){n=U();u={};var I=[];x=0<k&&pa(x,u,I);k||U();if(n.L){r=f!==F&&n.P(f,n.ca);for(var V=e(n.ba),A=V.next();!A.done;A=V.next())A=A.value,A in u||(T(n.L[A],a),delete n.L[A]);n.ca=f;n.ba=I}else n.L={},n.X=x?L(u[I[0]]):F,n.ba=I,n.P=(n.ca=f)&&L(f);for(V=b.l=new J(k);0<k;){A=I[--k];var C=n.L[A];if(l=!C)(n.L[A]=h=C={s:{A:p,o:fa({I:u[A]},f)},P:F,J:b,v:m,O:k,u:[],l:F,j:F,m:F,D:H}).u[0]={i:0,T:C},S(a,c),C.j&&a.insertBefore(C.m=C.j,c);else if(qa(C,
a,c),r||x&&n.X(u[A],C.s.o.I))(h=C).s.o=fa({I:u[A]},f),S(a,c);(V[C.O=k]=C).m&&(c=C.m)}b.m=c!==d?c:F}}}function T(a,c){c&&a.j&&(c.removeChild(a.j),c=F);if(a.l)for(var b=e(a.l),d=b.next();!d.done;d=b.next())(d=d.value)&&T(d,c);W(a.u);if(a.D){var m,f;(!(f=z[m=a.v])||0>(m=f.indexOf(a)))&&(!(f=B[m])||0>(m=f.indexOf(a)))||f.splice(m,1)}}function W(a){for(var c,b=a.length;1<b;)switch((c=a[--b]).i){case 3:c.H&&c.H.apply(c,g(c.h));break;case 4:c.h=E;break;case 7:ra(c);break;case 12:W(c.u)}}
function pa(a,c,b){var d="object"===typeof a[0],m=U();m.ea||(a[0]!==F&&["object","string","number"].includes(m.ea=typeof a[0])||M("item type invalid"),d&&(!["string","number"].includes(m.ha=typeof a[0].id)&&M("item id type invalid"),m.keys=K(a[0]).join(",")));for(var f=e(a),p=f.next();!p.done;p=f.next())p=p.value,p===F&&M("item is null"),typeof p!==m.ea&&M("item type changed"),d&&(typeof p.id!==m.ha&&M("item id type changed"),K(p).join(",")!==m.keys&&M("item keys differ of "+p.id));a=e(a);for(p=a.next();!p.done;p=
a.next())m=p.value,f=d?m.id:m,f in c&&M("item key not unique: "+f),c[f]=m,b.push(f);return d}function qa(a,c,b){if(a.j)return c.insertBefore(a.j,b),a.j;if(a.m){var d=a.l.length;do a.l[--d]&&(b=qa(a.l[d],c,b));while(0<d)}return b}function sa(a){for(;0!==a[0].i;){if(!a[0].W.G)return F;a[0].W.G=H;a=a[0].V}return a[0].T}function X(a){return(a=sa(a))&&!a.D&&(a.D=G,z[a.v]?z[a.v].push(a):z[a.v]=[a],y||Y())}function ta(){O(F,H,F);var a=sa(q);a&&(a.D=G,B[a.v]?B[a.v].push(a):B[a.v]=[a])}
function ua(a,c){O(3,H,c);if(t>=q.length)q[t]={i:3,B:R(c),h:c=c||E,H:a.apply(null,g(c))||F};else if(c){var b=q[t];b.B(b.h,c)&&(b.H&&b.H.apply(b,g(b.h)),b.H=a.apply(null,g(b.h=c))||F)}q[t].H&&q[t].H.then&&M("effect function must be synchronous");++t}function va(a){O(5,H,F);if(t<q.length)return q[t++].g;var c=q,b=[a,function(d){b[0]!==d&&(b[0]=d,X(c))},function(){return b[0]}];q[t++]={i:5,g:b};return b}function U(a){return O(6,H,F),(t<q.length?q[t++]:q[t++]={i:6,g:void 0===a?{}:a}).g}
function wa(a,c){return O(8,H,c),t>=q.length?(q[t++]={i:8,B:R(c),h:c=c||E,g:a.apply(null,g(c))}).g:c&&q[t].B(q[t].h,c)?q[t].g=a.apply(null,g(q[t++].h=c)):q[t++].g}function Q(a,c){return O(9,H,F),t<q.length?(c=q[t].g,q[t++].g=a):q[t++]={i:9,g:a},c}function xa(a,c){return a=setTimeout(function(){return c(G)},a),function(){return clearTimeout(a)}}function ra(a){for(var c=e(a.Y),b=c.next();!b.done;b=c.next())W(a.M[b.value])}function ya(a,c,b){return{$:b.aa,fa:a,Z:v,da:l?v:v+c}}
function Z(a){"object"===typeof a&&a||M("object required");var c=Q(a,F);return c?oa(c,a):K(a)}
function za(a){P(!a,"attributes presence");var c=h.j;if(a){for(var b=e(Z(a)),d=b.next();!d.done;d=b.next())switch(d=d.value,1<d.length&&d.charAt(0).toLowerCase()!==d.charAt(0)&&M("capital prop: "+d),d.charCodeAt(0)){case 70:"object"===typeof a.F&&a.F||M("invalid css flags");c.className=K(a.F).filter(function(m){return a.F[m]}).join(" ");continue;case 82:"function"!==typeof a.R&&M("invalid ref"),a.R(c);case 67:case 83:continue;default:97>d.charCodeAt(0)&&M("invalid prop: "+d),c[d]=a[d]}P(!a.S,"style presence");
if(a.S)for(b=e(Z(a.S)),d=b.next();!d.done;d=b.next())d=d.value,c.style[d]=a.S[d]}return c}function Aa(a,c,b){return"string"===typeof a&&M("component expected, use node_dom instead"),b&&b.constructor!==J&&M("invalid childs type"),{A:a,o:c?b?(c.C=b,c):c:b?{C:b}:F}}
function Y(){l=0>=v;v=ja.now();y=G;w=0;for(var a,c=0;(a=z).length;){10<++c&&M("rerender loop detected");z=[];a=e(a);for(var b=a.next();!b.done;b=a.next())if(b=b.value){b=e(b);for(var d=b.next();!d.done;d=b.next())if(h=d.value,h.D){if(h.j)S(F,F);else{var m,f=F;d=h.m;for(var p=h,k=h;!(m=(p=p.J).j););do for(var n=k.O,u=(k=k.J).l,r=u.length;++n<r&&u[n]&&!(f=u[n].m););while(!f&&k!==p);k=h;S(m,f);if(k.m!==d)for(;!(k=k.J).j;){d=F;m=e(k.l);for(f=m.next();!(f.done||(f=f.value)&&(d=f.m));f=m.next());if(d===
k.m)break;k.m=d}}l=H}}}y=H;h=q=F;B.length&&(z=B,B=a,Ba())}function Ba(){return w||(w=requestAnimationFrame(Y))}
function Ca(a){var c=D[a];if(!c){var b=a.indexOf("[");c=0>b?a.substr(0):a.substr(0,b);(0===c.length||c!==c.toLowerCase()||c.includes(" ")||c.includes("#")||c.includes("."))&&M("dom: invalid tag");D[a]=c=ha.createElement(c);if(0<b)for(!a.endsWith("]")&&M("dom: ] missing"),a=e(a.substring(b+1,a.length-1).split("][")),b=a.next();!b.done;b=a.next()){b=b.value;!b&&M("dom: empty attribute");(b.includes("[")||b.includes("]"))&&M("dom: attributes screwed up");var d=b.indexOf("=");b.includes(" ")&&(0>d||b.indexOf(" ")<
d)&&M("dom: space in attribute name");0<d?c[b.substr(0,d)]=b.substr(d+1):c[b]=G}}return c}function Da(a){var c=ba[a];if(!c){var b=Ca(a);ba[a]=c=function(d){return l&&(h.j=b.cloneNode(G)),za(d),d&&d.C||F};c.name_="$"+a}return c}ia.onerror=function(){return h&&ka("error"),z=B=[]};define({defer:function(){return h&&M("defer while rendering"),y=G,Ba()},defer_end:function(){return h&&M("defer_end while rendering"),y||M("nothing was deferred"),cancelAnimationFrame(w),Y()},hook_assert:function(a){O(F,H,F);if(!a)throw D;},hook_async:function(a,c,b){O(4,H,c);var d;if((t<q.length?(d=q[t++],H):d=q[t++]={i:4,B:R(c),h:c||E,g:F})||c&&d.B(d.h,c)&&(d.h=c)){void 0!==b&&(d.g=b);var m=q;a.apply(null,g(d.h)).then(function(f){return d.g!==f&&d.h===c&&(d.g=f,X(m))})}return d.g},hook_callback:function(a,
c){var b=U();b.h&&ma(b.h,c);b.h=c;return b.ga||(b.ga=function(d){for(var m=[],f=0;f<arguments.length;++f)m[f]=arguments[f];return a.apply(null,[].concat(g(b.h),g(m)))})},hook_delay:function(a){var c=e(va(H)),b=c.next().value;c=c.next().value;ua(xa,[a,c]);return b},hook_dom:function(a,c){return O(F,G,F),h.j?l&&M("hook_dom called twice"):l||M("hook_dom skipped before"),c&&(c.C&&M("hook_dom cannot have childs"),c.R&&M("hook_dom cannot have a ref")),l&&(h.j=Ca(a).cloneNode(G)),za(c||F)},hook_effect:ua,
hook_first:function(){return O(F,H,F),l},hook_map:function(a,c,b){O(7,H,b);var d=F,m=G;if(t<q.length)if((d=q[t]).U!==a)ra(d),d=F;else if(!d.G||b&&d.B(d.h,b))d.h=b||E,d.G=G;else{if(c===d.N)return++t,d.g;m=H}var f=l,p=q,k=++t,n={},u=[],r=0<c.length&&pa(c,n,u);0===c.length&&U();if(d){if(d.g=[],d.N!==c)for(d.N=c,c=e(d.Y),b=c.next();!b.done;b=c.next())b=b.value,b in n||(W(d.M[b]),delete d.M[b])}else q[k-1]=d={i:7,B:R(b),h:b||E,g:[],G:G,U:a,X:r?L(c[0]):F,Y:[],M:{},N:c};c=e(u);for(b=c.next();!b.done;b=c.next()){b=
b.value;var x=d.M[b];if(l=!x)d.M[b]=x=[{i:1,V:p,W:d,K:F,g:F}];if(m||l||(r?d.X(n[b],x[0].K):n[b]!==x[0].K)){q=x;t=1;try{x[0].g=a.apply(null,[x[0].K=n[b]].concat(g(d.h)))}catch(I){if(I!==D)throw I;}q=p}d.g.push(x[0].g)}l=f;q=p;t=k;d.Y=u;return d.g},hook_memo:wa,hook_object_changes:Z,hook_prev:Q,hook_reducer:function(a){O(10,H,F);a&&a.constructor!==J&&M("actions array required");"function"===typeof a&&M("array required, use hook_reducer_f instead");if(t<q.length)return q[t++].g;var c=q,b=[a[0](F),function(d,
m){d=a[d](b[0],m);b[0]!==d&&(b[0]=d,X(c))}];q[t++]={i:10,g:b};return b},hook_reducer_f:function(a,c){O(11,H,F);"function"!==typeof a&&M("reducer function required");c&&"function"!==typeof c&&M("initializer must be a function");if(t<q.length)return q[t++].g;var b=q,d=[c?c():F,function(m){m=a(d[0],m);d[0]!==m&&(d[0]=m,X(b))}];q[t++]={i:11,g:d};return d},hook_rerender:ta,hook_state:va,hook_static:U,hook_sub:function(a,c){O(12,H,c);var b=F;if(t<q.length)if((b=q[t]).U!==a)W(b.u),b=F;else if(!b.G||c&&b.B(b.h,
c))c&&(b.h=c),b.G=G;else return++t,b.g;var d=l,m=q,f=t;if(l=!b)(q[t]=b={i:12,B:R(c),h:c||E,g:F,U:a,G:G,u:[]}).u[0]={i:2,V:q,W:b};q=b.u;t=1;try{b.g=a.apply(null,g(b.h))}catch(p){if(p!==D)throw p;}l=d;q=m;t=f+1;return b.g},hook_transition:function(a,c){var b=U({aa:a});a=wa(ya,[a,c,b]);return b.aa=a.da<=v?a.fa:(ta(),a.Z===v?a.$:a.$+(a.fa-a.$)*(v-a.Z)/(a.da-a.Z))},init:function(a,c){function b(){return(!(d=a())||2!==d.length)&&M("root component must return [props, childs]"),P(!d[0],"attributes presence"),
d[0]!==F&&("object"!==typeof d[0]&&M("invalid props type"),N(Q(d[0],d[0]),d[0]),d[0].C&&M("root childs must be in second return value")),za(d[0]),d[1]}c||M("no root element specified");c.lui&&M("root element already mounted");c.lui=G;"function"!==typeof a&&M("no init function specified");var d;c.innerHTML="";b.name_="$root";(h={s:{A:b,o:F},P:F,J:F,v:0,O:0,u:[],l:F,j:c,m:c,D:G}).u[0]={i:0,T:h};z[0]=[h];h=q=F;Y()},node:Aa,node_dom:function(a,c,b){return Aa(Da(a),c,b)},node_map:function(a,c,b){return Aa(L,
{A:a,N:c,o:b||F})},now:function(){return v}})})()