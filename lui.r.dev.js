function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function e(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function g(a){if(!(a instanceof Array)){a=e(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function ba(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b};/*
 lui.js web frame work 1.2.1
 inspired by react and mithril
 L3P3.de 2021
*/
(function(){var h=null,k=!h,q=h,r=0,u=0,v=0,x=k,z=[],A=[],D={},ca={},da={},ea=[],E=[],F=h,G=k,H=!k,fa=/[A-Z]/g,J=Array,ha=Object,ia=ha.assign,K=ha.keys,ja=document,ka=window,la=ka.performance||Date;function ma(a){a=a.s.A;return a===L?"list":a.name_||a.name||"?"}
function M(){var a=[],b=q,c=F;if(b){for(a.unshift("$"+(r-1));0!==b[0].j;)a.unshift(1===b[0].j?"hook_map["+("object"===typeof b[0].L?b[0].L.id:b[0].L)+"]":"hook_sub"),b=b[0].W;b=b[0].U}for(;b;)a.unshift(ma(b)+(c?":"+c:"")),c=b.P,b=b.K;return a.join("/")||"-"}function na(){console.log.apply(console,g(ba.apply(0,arguments)))}function oa(a){var b=ba.apply(1,arguments);na.apply(null,["lui "+M()+": "+a].concat(g(b)))}function N(a){throw Error("lui: "+a);}
function pa(a){na("lui "+a+": error in callback")}function ra(a,b,c){try{return a.apply(null,g(b))}catch(d){throw pa(c),d;}}function sa(a,b){a===b||a&&b&&JSON.stringify(K(a))===JSON.stringify(K(b))||N("object keys mismatch")}
function O(a,b,c){q||N("hook called outside of hook context");c&&(c.constructor!==J&&N("deps must be in an array"),0===c.length&&N("deps must not be empty"));b&&0!==q[0].j&&N("hook called outside of component rendering");a!==F&&r<q.length&&(q[r].j!==a&&N("inconsistent hook order"),q[r].h&&ta(q[r].h,c))}function P(a,b){O(F,H,F);a!==Q(a,a)&&N(b+" changed between renderings")}function ta(a,b){b?a.length!==b.length&&N("deps length changed"):0<a.length&&N("deps presence changed")}
function ua(a){return new Function("a","b","return a!==b&&("+a.join("||")+")")}function L(a){var b=(a=K(a)).join(",");return da[b]||(0===a.length&&N("object empty"),a.some(function(c){return(c.includes("-")||"0123456789".includes(c.charAt(0)))&&N("invalid key: "+c)}),da[b]=ua(a.map(function(c){return"a."+c+"!==b."+c})))}function va(a,b){return sa(a,b),a===b?E:K(a).filter(function(c){return a[c]!==b[c]})}
function R(a){return a?ea[a.length]||(0===a.length&&N("deps must not be empty"),ea[a.length]=ua(a.map(function(b,c){return"a["+c+"]!==b["+c+"]"}))):F}
function S(a,b){var c=h,d=b,l=c.v+1;q=c.u;r=1;c.G=H;if(c.s.A!==L){var f=F;try{f=(0,c.s.A)(c.s.o)}catch(qa){if(qa!==D)throw qa;}var p=c.i;"object"!==typeof f&&N("components need to return child list or null");if(f){p&&(a=p,b=F);var m=f.length,n;"number"!==typeof m&&N("childs must be returned in a list");0===m&&N("returned childs list empty");c.l&&m!==c.l.length&&N("returned childs count changed");var w=c.l||(c.l=(new J(m)).fill(F));do{var t=w[--m];if((n=f[m])&&n!==G){t&&t.s.A!==n.A&&N("child component changed at "+
m);if(k=!t)(w[m]=h=t={s:n,T:n.o&&L(n.o),K:c,v:l,P:m,u:[],l:F,i:F,m:F,G:H}).u[0]={j:0,U:t},S(a,b),t.i&&a.insertBefore(t.m=t.i,b);else if(sa(t.s.o,n.o),n.o&&t.T(t.s.o,n.o))(h=t).s=n,S(a,b);t.m&&(b=t.m)}else t&&(T(t,a),w[m]=F)}while(0<m)}else if(c.l){l=e(c.l);for(f=l.next();!f.done;f=l.next())(f=f.value)&&T(f,a);c.l=F}p||(c.m=b!==d?b:F)}else{f=c.s.o;p=f.A;var y=f.O;f=f.o;"object"===typeof y&&y&&y.constructor===J||N("list_data must be an array");"object"!==typeof f&&N("props must be an object");P(p,"item component");
P(f&&K(f).join(","),"common props");m=y.length;t=G;if(!(0>=Q(m,m)+m)){n=U();w={};var I=[];y=0<m&&wa(y,w,I);m||U();if(n.M){t=f&&n.T(f,n.da);for(var W=e(n.ca),B=W.next();!B.done;B=W.next())B=B.value,B in w||(T(n.M[B],a),delete n.M[B]);n.da=f;n.ca=I}else n.M={},n.Y=y?L(w[I[0]]):F,n.ca=I,n.T=(n.da=f)&&L(f);for(W=c.l=new J(m);0<m;){B=I[--m];var C=n.M[B];if(k=!C)(n.M[B]=h=C={s:{A:p,o:ia({I:w[B]},f)},T:F,K:c,v:l,P:m,u:[],l:F,i:F,m:F,G:H}).u[0]={j:0,U:C},S(a,b),C.i&&a.insertBefore(C.m=C.i,b);else if(b.previousSibling!==
xa(C)&&ya(C,a,b),t||y&&n.Y(w[B],C.s.o.I))(h=C).s.o=ia({I:w[B]},f),S(a,b);(W[C.P=m]=C).m&&(b=C.m)}c.m=b!==d?b:F}}}function T(a,b){b&&a.i&&(b.removeChild(a.i),b=F);if(a.l)for(var c=e(a.l),d=c.next();!d.done;d=c.next())(d=d.value)&&T(d,b);V(a.u);if(a.G){var l,f;(!(f=z[l=a.v])||0>(l=f.indexOf(a)))&&(!(f=A[l])||0>(l=f.indexOf(a)))||f.splice(l,1)}}function V(a){for(var b,c=a.length;1<c;)switch((b=a[--c]).j){case 3:b.J&&b.J.apply(b,g(b.h));break;case 4:b.h=E;break;case 7:za(b);break;case 12:V(b.u)}}
function wa(a,b,c){var d="object"===typeof a[0],l=U();l.fa||(a[0]!==F&&["object","string","number"].includes(l.fa=typeof a[0])||N("item type invalid"),d&&(!["string","number"].includes(l.ia=typeof a[0].id)&&N("item id type invalid"),l.keys=K(a[0]).join(",")));for(var f=e(a),p=f.next();!p.done;p=f.next())p=p.value,p===F&&N("item is null"),typeof p!==l.fa&&N("item type changed"),d&&(typeof p.id!==l.ia&&N("item id type changed"),K(p).join(",")!==l.keys&&N("item keys differ of "+p.id));a=e(a);for(p=a.next();!p.done;p=
a.next())l=p.value,f=d?l.id:l,f in b&&N("item key not unique: "+f),b[f]=l,c.push(f);return d}function xa(a){if(a.i)return a.i;var b;a=(b=a.l)?b.length:0;for(var c,d;0<a;)if((d=b[--a])&&(c=xa(d)))return c;return F}function ya(a,b,c){if(a.i)return b.insertBefore(a.i,c),a.i;if(a.m){var d=a.l.length;do a.l[--d]&&(c=ya(a.l[d],b,c));while(0<d)}return c}function Aa(a){for(;0!==a[0].j;){if(!a[0].X.H)return F;a[0].X.H=H;a=a[0].W}return a[0].U}
function X(a){return(a=Aa(a))&&!a.G&&(a.G=G,z[a.v]?z[a.v].push(a):z[a.v]=[a],x||Y())}function Ba(){O(F,H,F);var a=Aa(q);a&&(a.G=G,A[a.v]?A[a.v].push(a):A[a.v]=[a])}function Ca(a,b){O(3,H,b);if(r>=q.length)q[r]={j:3,B:R(b),h:b=b||E,J:a.apply(null,g(b))||F};else if(b){var c=q[r];c.B(c.h,b)&&(c.J&&c.J.apply(c,g(c.h)),c.J=a.apply(null,g(c.h=b))||F)}q[r].J&&q[r].J.then&&N("effect function must be synchronous");++r}
function Da(a){O(5,H,F);if(r<q.length)return q[r++].g;var b=q,c=[a,function(d){c[0]!==d&&(c[0]=d,X(b))},function(){return c[0]}];q[r++]={j:5,g:c};return c}function U(a){return O(6,H,F),(r<q.length?q[r++]:q[r++]={j:6,g:void 0===a?{}:a}).g}function Ea(a,b){return O(8,H,b),r>=q.length?(q[r++]={j:8,B:R(b),h:b=b||E,g:a.apply(null,g(b))}).g:b&&q[r].B(q[r].h,b)?q[r].g=a.apply(null,g(q[r++].h=b)):q[r++].g}function Q(a,b){return O(9,H,F),r<q.length?(b=q[r].g,q[r++].g=a):q[r++]={j:9,g:a},b}
function Fa(a,b){return a=setTimeout(function(){return b(G)},a),function(){return clearTimeout(a)}}function za(a){for(var b=e(a.Z),c=b.next();!c.done;c=b.next())V(a.N[c.value])}function Ga(a,b,c){return{aa:c.ba,ga:a,$:u,ea:k?u:u+b}}function Z(a){"object"===typeof a&&a||N("object required");var b=Q(a,F);return b?va(b,a):K(a)}
function Ha(a){P(!a,"attributes presence");var b=h.i;if(a){for(var c=e(Z(a)),d=c.next();!d.done;d=c.next())switch(d=d.value,1<d.length&&d.charAt(0).toLowerCase()!==d.charAt(0)&&N("capital prop: "+d),d.charCodeAt(0)){case 70:"object"===typeof a.F&&a.F||N("invalid css flags");b.className=K(a.F).filter(function(l){return a.F[l]}).join(" ");continue;case 82:"function"!==typeof a.R&&N("invalid ref"),a.R(b);case 67:case 68:case 83:continue;default:97>d.charCodeAt(0)&&N("invalid prop: "+d),b[d]=a[d]}P(!a.D,
"dataset presence");if(a.D)for(c=e(Z(a.D)),d=c.next();!d.done;d=c.next())d=d.value,b.setAttribute("data-"+d.replace(fa,"-$&").toLowerCase(),a.D[d]);P(!a.S,"style presence");if(a.S)for(c=e(Z(a.S)),d=c.next();!d.done;d=c.next())d=d.value,b.style[d]=a.S[d]}return b}function Ia(a,b,c){return"string"===typeof a&&N("component expected, use node_dom instead"),c&&c.constructor!==J&&N("invalid childs type"),{A:a,o:b?c?(b.C=c,b):b:c?{C:c}:F}}
function Y(){k=0>=u;u=la.now();v&&cancelAnimationFrame(v);x=G;v=0;for(var a,b=0;(a=z).length;){10<++b&&N("rerender loop detected");z=[];a=e(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value){c=e(c);for(var d=c.next();!d.done;d=c.next())if(h=d.value,h.G){if(h.i)S(F,F);else{var l,f=F;d=h.m;for(var p=h,m=h;!(l=(p=p.K).i););do for(var n=m.P,w=(m=m.K).l,t=w.length;++n<t&&w[n]&&!(f=w[n].m););while(!f&&m!==p);m=h;S(l,f);if(m.m!==d)for(;!(m=m.K).i;){d=F;l=e(m.l);for(f=l.next();!(f.done||(f=f.value)&&
(d=f.m));f=l.next());if(d===m.m)break;m.m=d}}k=H}}}x=H;h=q=F;A.length&&(z=A,A=a,Ja())}function Ja(){return v||(v=requestAnimationFrame(Y))}
function Ka(a){var b=D[a];if(!b){var c=a.indexOf("[");b=0>c?a.substr(0):a.substr(0,c);(0===b.length||b!==b.toLowerCase()||b.includes(" ")||b.includes("#")||b.includes("."))&&N("dom: invalid tag");D[a]=b=ja.createElement(b);if(0<c)for(!a.endsWith("]")&&N("dom: ] missing"),a=e(a.substring(c+1,a.length-1).split("][")),c=a.next();!c.done;c=a.next()){c=c.value;!c&&N("dom: empty attribute");(c.includes("[")||c.includes("]"))&&N("dom: attributes screwed up");var d=c.indexOf("=");c.includes(" ")&&(0>d||c.indexOf(" ")<
d)&&N("dom: space in attribute name");0<d?b[c.substr(0,d)]=c.substr(d+1):b[c]=G}}return b}function La(a){var b=ca[a];if(!b){var c=Ka(a);ca[a]=b=function(d){return k&&(h.i=c.cloneNode(G)),Ha(d),d&&d.C||F};b.name_="$"+a}return b}ka.onerror=function(){return h&&oa("error in component"),z=A=[],H};var Ma=J.prototype;Ma.fill||(Ma.fill=function(a){for(var b=this.length,c=0;c<b;++c)this[c]=a;return this});define({defer:function(){return h&&N("defer while rendering"),x=G,Ja()},defer_end:function(){return h&&N("defer_end while rendering"),x||N("nothing was deferred"),Y()},hook_assert:function(a){O(F,H,F);if(!a)throw D;},hook_async:function(a,b,c){O(4,H,b);var d,l=M();if((r<q.length?(d=q[r++],H):d=q[r++]={j:4,B:R(b),h:b||E,g:F})||b&&d.B(d.h,b)&&(d.h=b)){void 0!==c&&(d.g=c);var f=q;a.apply(null,g(d.h)).then(function(p){return d.g!==p&&d.h===b&&(d.g=p,X(f))}).catch(function(p){pa(l);throw p;})}return d.g},
hook_callback:function(a,b){var c=r>=q.length?M():"";b&&b.length||N("deps required, use hook_static instead");var d=U();d.h&&ta(d.h,b);d.h=b;return d.ha||(d.ha=function(){var l=ba.apply(0,arguments);return ra(a,[].concat(g(d.h),g(l)),c)})},hook_delay:function(a){var b=e(Da(H)),c=b.next().value;b=b.next().value;Ca(Fa,[a,b]);return c},hook_dom:function(a,b){return O(F,G,F),h.i?k&&N("hook_dom called twice"):k||N("hook_dom skipped before"),b&&(b.C&&N("hook_dom cannot have childs"),b.R&&N("hook_dom cannot have a ref")),
k&&(h.i=Ka(a).cloneNode(G)),Ha(b||F)},hook_effect:Ca,hook_first:function(){return O(F,H,F),k},hook_map:function(a,b,c){O(7,H,c);var d=F,l=G;if(r<q.length)if((d=q[r]).V!==a)za(d),d=F;else if(!d.H||c&&d.B(d.h,c))d.h=c||E,d.H=G;else{if(b===d.O)return++r,d.g;l=H}var f=k,p=q,m=++r,n={},w=[],t=0<b.length&&wa(b,n,w);0===b.length&&U();if(d){if(d.g=[],d.O!==b)for(d.O=b,b=e(d.Z),c=b.next();!c.done;c=b.next())c=c.value,c in n||(V(d.N[c]),delete d.N[c])}else q[m-1]=d={j:7,B:R(c),h:c||E,g:[],H:G,V:a,Y:t?L(b[0]):
F,Z:[],N:{},O:b};b=e(w);for(c=b.next();!c.done;c=b.next()){c=c.value;var y=d.N[c];if(k=!y)d.N[c]=y=[{j:1,W:p,X:d,L:F,g:F}];if(l||k||(t?d.Y(n[c],y[0].L):n[c]!==y[0].L)){q=y;r=1;try{y[0].g=a.apply(null,[y[0].L=n[c]].concat(g(d.h)))}catch(I){if(I!==D)throw I;}q=p}d.g.push(y[0].g)}k=f;q=p;r=m;d.Z=w;return d.g},hook_memo:Ea,hook_object_changes:Z,hook_prev:Q,hook_reducer:function(a){O(10,H,F);a&&a.constructor!==J&&N("actions array required");"function"===typeof a&&N("array required, use hook_reducer_f instead");
if(r<q.length)return q[r++].g;var b=q,c=M(),d=[(0,a[0])(F),function(l,f){l=ra(a[l],[d[0],f],c);d[0]!==l&&(d[0]=l,X(b))}];q[r++]={j:10,g:d};return d},hook_reducer_f:function(a,b){O(11,H,F);"function"!==typeof a&&N("reducer function required");b&&"function"!==typeof b&&N("initializer must be a function");if(r<q.length)return q[r++].g;var c=q,d=M(),l=[b?b():F,function(f){f=ra(a,[l[0],f],d);l[0]!==f&&(l[0]=f,X(c))}];q[r++]={j:11,g:l};return l},hook_rerender:Ba,hook_state:Da,hook_static:U,hook_sub:function(a,
b){O(12,H,b);var c=F;if(r<q.length)if((c=q[r]).V!==a)V(c.u),c=F;else if(!c.H||b&&c.B(c.h,b))b&&(c.h=b),c.H=G;else return++r,c.g;var d=k,l=q,f=r;if(k=!c)(q[r]=c={j:12,B:R(b),h:b||E,g:F,V:a,H:G,u:[]}).u[0]={j:2,W:q,X:c};q=c.u;r=1;try{c.g=a.apply(null,g(c.h))}catch(p){if(p!==D)throw p;}k=d;q=l;r=f+1;return c.g},hook_transition:function(a,b){var c=U({ba:a});a=Ea(Ga,[a,b,c]);return c.ba=a.ea<=u?a.ga:(Ba(),a.$===u?a.aa:a.aa+(a.ga-a.aa)*(u-a.$)/(a.ea-a.$))},init:function(a,b){function c(){return(!(d=a())||
2!==d.length)&&N("root component must return [props, childs]"),P(!d[0],"attributes presence"),d[0]!==F&&("object"!==typeof d[0]&&N("invalid props type"),sa(Q(d[0],d[0]),d[0]),d[0].C&&N("root childs must be in second return value")),Ha(d[0]),d[1]}b||N("no root element specified");b.lui&&N("root element already mounted");b.lui=G;"function"!==typeof a&&N("no init function specified");var d;b.innerHTML="";c.name_="$root";(h={s:{A:c,o:F},T:F,K:F,v:0,P:0,u:[],l:F,i:b,m:b,G:G}).u[0]={j:0,U:h};z[0]=[h];h=
q=F;Y()},node:Ia,node_dom:function(a,b,c){return Ia(La(a),b,c)},node_map:function(a,b,c){return Ia(L,{A:a,O:b,o:c||F})},now:function(){return u}})})()