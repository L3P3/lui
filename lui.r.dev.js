'use strict';function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function e(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function f(a){if(!(a instanceof Array)){a=e(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function h(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b};/*
 lui.js web frame work 1.3.6
 inspired by react and mithril
 L3P3.de 2022
*/
(function(){var l=null,n=!l,w=l,z=0,A=0,B=0,C=n,D=[],E=[],F={},ba={},ca={},da=[],G=[],ea={},H=l,J=n,K=!n,fa=/[A-Z]/g,L=Array,M=Object,ha=M.assign,N=M.keys,ia=M.freeze||function(a){return a},ja=M.isFrozen||function(a){return null===a||"object"!==typeof a},ka=document,la=window,ma=la.performance||Date;
function O(a){return void 0===a&&P("model state must not contain undefined, missing return?"),ja(a)||(ia(a).constructor!==L&&(a.constructor!==M&&P("model state must not contain shit like "+a.constructor.name),a=M.values(a)),a.forEach(O))}function na(a){a=a.s.v;return a===Q?"list":a.name_||a.name||"?"}
function oa(){var a=[],b=w,c=H;if(b){for(a.unshift("$"+(z-1));0!==b[0].m;)a.unshift(1===b[0].m?"hook_map["+("object"===typeof b[0].P?b[0].P.id:b[0].P)+"]":"hook_sub"),b=b[0].X;b=b[0].O}for(;b;)a.unshift(na(b)+(c?":"+c:"")),c=b.M,b=b.J;return a.join("/")||"-"}function pa(){console.log.apply(console,f(h.apply(0,arguments)))}function ra(a){var b=h.apply(1,arguments);pa.apply(null,["lui "+oa()+": "+a].concat(f(b)))}function P(a){throw Error("lui: "+a);}
function sa(a){pa("lui "+a+": error in callback");l=H}function S(a,b,c){try{return a.apply(null,f(b))}catch(d){throw sa(c),d;}}function ta(a,b){a===b||a&&b&&JSON.stringify(N(a))===JSON.stringify(N(b))||P("object keys mismatch")}
function T(a,b,c){w||P("hook called outside of hook context");c&&(c.constructor!==L&&P("deps must be in an array"),0===c.length&&P("deps must not be empty"));b&&0!==w[0].m&&P("hook called outside of component rendering");a!==H&&z<w.length&&(w[z].m!==a&&P("inconsistent hook order"),w[z].l&&ua(w[z].l,c))}function U(a,b){T(H,K,H);a!==V(a,a)&&P(b+" changed between renderings")}function ua(a,b){b?a.length!==b.length&&P("deps length changed"):0<a.length&&P("deps presence changed")}
function va(a){return new Function("a","b","return a!==b&&("+a.join("||")+")")}function Q(a){var b=(a=N(a)).join(",");return ca[b]||(0===a.length&&P("object empty"),a.some(function(c){return(c.includes("-")||"0123456789".includes(c.charAt(0)))&&P("invalid key: "+c)}),ca[b]=va(a.map(function(c){return"a."+c+"!==b."+c})))}function wa(a,b){return ta(a,b),a===b?G:N(a).filter(function(c){return a[c]!==b[c]})}
function xa(a){return a?da[a.length]||(0===a.length&&P("deps must not be empty"),da[a.length]=va(a.map(function(b,c){return"a["+c+"]!==b["+c+"]"}))):H}
function W(a,b){var c=l,d=b,p=c.u+1;w=c.B;z=1;c.A=K;if(c.s.v!==Q){var g=H;try{g=(0,c.s.v)(c.s.o||ea)}catch(qa){if(qa!==F)throw qa;}var u=c.g;"object"!==typeof g&&P("components need to return child list or null");if(g){u&&(a=u,b=H);var k=g.length,m;"number"!==typeof k&&P("childs must be returned in a list");0===k&&P("returned childs list empty");c.h&&k!==c.h.length&&P("returned childs count changed");var x=c.h||(c.h=(new L(k)).fill(H));do{var r=x[--k];if((m=g[k])&&m!==J){r&&r.s.v!==m.v&&P("child component changed at "+
k);if(n=!r)(x[k]=l=r={s:m,N:m.o&&Q(m.o),J:c,u:p,M:k,B:[],h:H,g:H,i:H,A:K}).B[0]={m:0,O:r},W(a,b),r.g&&a.insertBefore(r.i=r.g,b);else if(ta(r.s.o,m.o),m.o&&r.N(r.s.o,m.o))(l=r).s=m,W(a,b);r.i&&(b=r.i)}else r&&(X(r,a),x[k]=H)}while(0<k)}else if(c.h){p=e(c.h);for(g=p.next();!g.done;g=p.next())(g=g.value)&&X(g,a);c.h=H}u||(c.i=b!==d?b:H)}else{g=c.s.o;u=g.v;var v=g.$;g=g.o;"object"===typeof v&&v&&v.constructor===L||P("list_data must be an array");"object"!==typeof g&&P("props must be an object");U(u,"item component");
U(g&&N(g).join(","),"common props");k=v.length;r=J;if(!(0>=V(k,k)+k)){m=Y();x={};var R=[],I;if(I=0<k){I="object"===typeof v[0];var q=Y();q.V||(v[0]!==H&&["object","string","number"].includes(q.V=typeof v[0])||P("item type invalid"),I&&(!["string","number"].includes(q.aa=typeof v[0].id)&&P("item id type invalid"),q.keys=N(v[0]).join(",")));for(var t=e(v),y=t.next();!y.done;y=t.next())y=y.value,y===H&&P("item is null"),typeof y!==q.V&&P("item type changed"),I&&(typeof y.id!==q.aa&&P("item id type changed"),
N(y).join(",")!==q.keys&&P("item keys differ of "+y.id));v=e(v);for(y=v.next();!y.done;y=v.next())q=y.value,t=I?q.id:q,t in x&&P("item key not unique: "+t),x[t]=q,R.push(t)}k||Y();if(m.L){r=g&&m.N(g,m.U);v=e(m.T);for(q=v.next();!q.done;q=v.next())q=q.value,q in x||(X(m.L[q],a),delete m.L[q]);m.U=g;m.T=R}else m.L={},m.Z=I?Q(x[R[0]]):H,m.T=R,m.N=(m.U=g)&&Q(g);for(v=c.h=new L(k);0<k;){q=R[--k];t=m.L[q];if(n=!t)(m.L[q]=l=t={s:{v:u,o:ha({I:x[q]},g)},N:H,J:c,u:p,M:k,B:[],h:H,g:H,i:H,A:K}).B[0]={m:0,O:t},
W(a,b),t.g&&a.insertBefore(t.i=t.g,b);else if((y=ya(t))&&y.nextSibling!==b&&za(t,a,b),r||I&&m.Z(x[q],t.s.o.I))(l=t).s.o=ha({I:x[q]},g),W(a,b);(v[t.M=k]=t).i&&(b=t.i)}c.i=b!==d?b:H}}}
function X(a,b){b&&a.g&&(b.removeChild(a.g),b=H);if(a.h)for(var c=e(a.h),d=c.next();!d.done;d=c.next())(d=d.value)&&X(d,b);b=a.B;for(d=b.length;1<d;)switch((c=b[--d]).m){case 3:c.G&&c.G.apply(c,f(c.l));break;case 4:c.l=G}if(a.A){var p,g;(!(g=D[p=a.u])||0>(p=g.indexOf(a)))&&(!(g=E[p])||0>(p=g.indexOf(a)))||g.splice(p,1)}}function ya(a){if(a.g)return a.g;var b;a=(b=a.h)?b.length:0;for(var c,d;0<a;)if((d=b[--a])&&(c=ya(d)))return c;return H}
function za(a,b,c){if(a.g)return b.insertBefore(a.g,c),a.g;if(a.i){var d=a.h.length;do a.h[--d]&&(c=za(a.h[d],b,c));while(0<d)}return c}function Aa(a){for(;0!==a[0].m;){if(!a[0].Y.W)return H;a[0].Y.W=K;a=a[0].X}return a[0].O}function Ba(a){return(a=Aa(a))&&!a.A&&(a.A=J,D[a.u]?D[a.u].push(a):D[a.u]=[a],C||Z())}function Y(a){return T(6,K,H),(z<w.length?w[z++]:w[z++]={m:6,j:void 0===a?{}:a}).j}function V(a,b){return T(9,K,H),z<w.length?(b=w[z].j,w[z++].j=a):w[z++]={m:9,j:a},b}
function Ca(a){"object"===typeof a&&a||P("object required");var b=V(a,H);return b?wa(b,a):N(a)}
function Da(a){U(!a,"attributes presence");var b=l.g;if(a){for(var c=e(Ca(a)),d=c.next();!d.done;d=c.next()){d=d.value;1<d.length&&d.charAt(0).toLowerCase()!==d.charAt(0)&&P("capital prop: "+d);switch(d.charCodeAt(0)){case 70:"object"===typeof a.F&&a.F||P("invalid css flags");b.className=N(a.F).filter(function(p){return a.F[p]}).join(" ");continue;case 82:"function"!==typeof a.R&&P("invalid ref"),a.R(b);case 67:case 68:case 83:continue}97>d.charCodeAt(0)&&P("invalid prop: "+d);b[d]=a[d]}U(!a.D,"dataset presence");
if(a.D)for(c=e(Ca(a.D)),d=c.next();!d.done;d=c.next())d=d.value,b.setAttribute("data-"+d.replace(fa,"-$&").toLowerCase(),a.D[d]);U(!a.S,"style presence");if(a.S)for(c=e(Ca(a.S)),d=c.next();!d.done;d=c.next())d=d.value,b.style[d]=a.S[d]}return b}function Ea(a,b,c){return"string"===typeof a&&P("component expected, use node_dom instead"),c&&c.constructor!==L&&P("invalid childs type"),{v:a,o:b?c?(b.C=c,b):b:c?{C:c}:H}}
function Z(){n=0>=A;A=ma.now();B&&cancelAnimationFrame(B);C=J;B=0;for(var a,b=0;(a=D).length;){10<++b&&P("rerender loop detected");D=[];a=e(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value){c=e(c);for(var d=c.next();!d.done;d=c.next())if(l=d.value,l.A){if(l.g)W(H,H);else{var p,g=H;d=l.i;for(var u=l,k=l;!(p=(u=u.J).g););do for(var m=k.M,x=(k=k.J).h,r=x.length;++m<r&&x[m]&&!(g=x[m].i););while(!g&&k!==u);k=l;W(p,g);if(k.i!==d)for(;!(k=k.J).g;){d=H;p=e(k.h);for(g=p.next();!(g.done||(g=g.value)&&
(d=g.i));g=p.next());if(d===k.i)break;k.i=d}}n=K}}}C=K;l=w=H;E.length&&(D=E,E=a,Fa())}function Fa(){return B||(B=requestAnimationFrame(Z))}
function Ga(a){var b=F[a];if(!b){var c=a.indexOf("[");b=0>c?a:a.substring(0,c);(0===b.length||b!==b.toLowerCase()||b.includes(" ")||b.includes("#")||b.includes("."))&&P("dom: invalid tag");F[a]=b=ka.createElement(b);if(0<c)for(!a.endsWith("]")&&P("dom: ] missing"),a=e(a.substring(c+1,a.length-1).split("][")),c=a.next();!c.done;c=a.next()){c=c.value;!c&&P("dom: empty attribute");(c.includes("[")||c.includes("]"))&&P("dom: attributes screwed up");var d=c.indexOf("=");c.includes(" ")&&(0>d||c.indexOf(" ")<
d)&&P("dom: space in attribute name");0<d?b[c.substring(0,d)]=c.substr(d+1):b[c]=J}}return b}function Ha(a){var b=ba[a];if(!b){var c=Ga(a);ba[a]=b=function(d){return n&&(l.g=c.cloneNode(J)),Da(d),d&&d.C||H};b.name_="$"+a}return b}la.onerror=function(){return l&&ra("error in component"),D=E=[],K};var Ia=L.prototype;Ia.fill||(Ia.fill=function(a){for(var b=this.length,c=0;c<b;++c)this[c]=a;return this});define({defer:function(){return l&&P("defer while rendering"),C=J,Fa()},defer_end:function(){return l&&P("defer_end while rendering"),C||P("nothing was deferred"),Z()},hook_assert:function(a){T(H,K,H);if(!a)throw F;},hook_async:function(a,b,c){T(4,K,b);var d,p=oa();if((z<w.length?(d=w[z++],K):d=w[z++]={m:4,K:xa(b),l:b||G,j:H})||b&&d.K(d.l,b)&&(d.l=b)){void 0!==c&&(d.j=c);var g=w;a.apply(null,f(d.l)).then(function(u){return d.j!==u&&d.l===b&&(d.j=u,Ba(g))}).catch(function(u){sa(p);throw u;})}return d.j},
hook_dom:function(a,b){return T(H,J,H),l.g?n&&P("hook_dom called twice"):n||P("hook_dom skipped before"),b&&(b.C&&P("hook_dom cannot have childs"),b.R&&P("hook_dom cannot have a ref")),n&&(l.g=Ga(a).cloneNode(J)),Da(b||H)},hook_effect:function(a,b){T(3,K,b);if(z>=w.length)w[z]={m:3,K:xa(b),l:b=b||G,G:a.apply(null,f(b))||H};else if(b){var c=w[z];c.K(c.l,b)&&(c.G&&c.G.apply(c,f(c.l)),c.G=a.apply(null,f(c.l=b))||H)}w[z].G&&w[z].G.then&&P("effect function must be synchronous");++z},hook_memo:function(a,
b){return T(8,K,b),z>=w.length?(w[z++]={m:8,K:xa(b),l:b=b||G,j:a.apply(null,f(b))}).j:b&&w[z].K(w[z].l,b)?w[z].j=a.apply(null,f(w[z++].l=b)):w[z++].j},hook_model:function(a){T(10,K,H);"object"===typeof a&&a||P("mutations object required");"function"!==typeof a.init&&P("init mutation required for initial value");if(z<w.length)return w[z++].j;var b=w,c=oa(),d=[S(a.init,[H],c+" -> #init"),{}];S(O,[d[0]],c+" -> #init");for(var p={},g=e(N(a)),u=g.next();!u.done;p={H:p.H},u=g.next())p.H=u.value,d[1][p.H]=
function(k){return function(){var m=S(a[k.H],[d[0]].concat(f(h.apply(0,arguments))),c+" -> #"+k.H);d[0]!==m&&(S(O,[m],c+" -> #"+k.H),d[0]=m,Ba(b))}}(p);w[z++]={m:10,j:d};return d},hook_prev:V,hook_rerender:function(){T(H,K,H);var a=Aa(w);a&&(a.A=J,E[a.u]?E[a.u].push(a):E[a.u]=[a])},hook_state:function(a){T(5,K,H);if(z<w.length)return w[z++].j;var b=w,c=[a,function(d){c[0]!==d&&(c[0]=d,Ba(b))},function(){return c[0]}];w[z++]={m:5,j:c};return c},hook_static:Y,init:function(a,b){function c(){return(!(d=
a())||2!==d.length)&&P("root component must return [props, childs]"),U(!d[0],"attributes presence"),d[0]!==H&&("object"!==typeof d[0]&&P("invalid props type"),ta(V(d[0],d[0]),d[0]),d[0].C&&P("root childs must be in second return value")),Da(d[0]),d[1]}b||P("no root element specified");b.lui&&P("root element already mounted");b.lui=J;"function"!==typeof a&&P("no init function specified");var d;b.innerHTML="";c.name_="$root";(l={s:{v:c,o:H},N:H,J:H,u:0,M:0,B:[],h:H,g:b,i:b,A:J}).B[0]={m:0,O:l};D[0]=
[l];l=w=H;Z()},node:Ea,node_dom:function(a,b,c){return Ea(Ha(a),b,c)},node_map:function(a,b,c){return Ea(Q,{v:a,$:b,o:c||H})},now:function(){return A}})})()