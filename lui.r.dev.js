function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function e(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function g(a){if(!(a instanceof Array)){a=e(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function h(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b};/*
 lui.js web frame work 1.1.5
 inspired by react and mithril
 L3P3.de 2021
*/
(function(){var k=null,q=!k,r=k,u=0,v=0,y=0,z=q,A=[],D=[],E={},ba={},ca={},da=[],F=[],G=k,H=q,J=!q,K=Array,ea=Object,fa=ea.assign,L=ea.keys,ha=document,ia=window,ja=ia.performance||Date;function ka(a){a=a.s.A;return a===M?"list":a.name_||a.name||"?"}function N(){var a=[],b=r,c=G;if(b){for(a.unshift("$"+(u-1));0!==b[0].i;)a.unshift(1===b[0].i?"hook_map["+("object"===typeof b[0].K?b[0].K.id:b[0].K)+"]":"hook_sub"),b=b[0].V;b=b[0].T}for(;b;)a.unshift(ka(b)+(c?":"+c:"")),c=b.O,b=b.J;return a.join("/")||"-"}
function la(){console.log.apply(console,g(h.apply(0,arguments)))}function ma(a){var b=h.apply(1,arguments);la.apply(null,["lui "+N()+": "+a].concat(g(b)))}function O(a){throw Error("lui: "+a);}function na(a){la("lui "+a+": error in callback")}function oa(a,b,c){try{return a.apply(null,g(b))}catch(d){throw na(c),d;}}function pa(a,b){a===b||a&&b&&JSON.stringify(L(a))===JSON.stringify(L(b))||O("object keys mismatch")}
function P(a,b,c){r||O("hook called outside of hook context");c&&(c.constructor!==K&&O("deps must be in an array"),0===c.length&&O("deps must not be empty"));b&&0!==r[0].i&&O("hook called outside of component rendering");a!==G&&u<r.length&&(r[u].i!==a&&O("inconsistent hook order"),r[u].h&&ra(r[u].h,c))}function Q(a,b){P(G,J,G);a!==R(a,a)&&O(b+" changed between renderings")}function ra(a,b){b?a.length!==b.length&&O("deps length changed"):0<a.length&&O("deps presence changed")}
function sa(a){return new Function("a","b","return a!==b&&("+a.join("||")+")")}function M(a){var b=(a=L(a)).join(",");return ca[b]||(0===a.length&&O("object empty"),a.some(function(c){return(c.includes("-")||"0123456789".includes(c.charAt(0)))&&O("invalid key: "+c)}),ca[b]=sa(a.map(function(c){return"a."+c+"!==b."+c})))}function ta(a,b){return pa(a,b),a===b?F:L(a).filter(function(c){return a[c]!==b[c]})}
function S(a){return a?da[a.length]||(0===a.length&&O("deps must not be empty"),da[a.length]=sa(a.map(function(b,c){return"a["+c+"]!==b["+c+"]"}))):G}
function T(a,b){var c=k,d=b,l=c.v+1;r=c.u;u=1;c.D=J;if(c.s.A!==M){var f=G;try{f=(0,c.s.A)(c.s.o)}catch(qa){if(qa!==E)throw qa;}var p=c.j;"object"!==typeof f&&O("components need to return child list or null");if(f){p&&(a=p,b=G);var m=f.length,n;"number"!==typeof m&&O("childs must be returned in a list");0===m&&O("returned childs list empty");c.l&&m!==c.l.length&&O("returned childs count changed");var w=c.l||(c.l=(new K(m)).fill(G));do{var t=w[--m];if((n=f[m])&&n!==H){t&&t.s.A!==n.A&&O("child component changed at "+
m);if(q=!t)(w[m]=k=t={s:n,P:n.o&&M(n.o),J:c,v:l,O:m,u:[],l:G,j:G,m:G,D:J}).u[0]={i:0,T:t},T(a,b),t.j&&a.insertBefore(t.m=t.j,b);else if(pa(t.s.o,n.o),n.o&&t.P(t.s.o,n.o))(k=t).s=n,T(a,b);t.m&&(b=t.m)}else t&&(U(t,a),w[m]=G)}while(0<m)}else if(c.l){l=e(c.l);for(f=l.next();!f.done;f=l.next())(f=f.value)&&U(f,a);c.l=G}p||(c.m=b!==d?b:G)}else{f=c.s.o;p=f.A;var x=f.N;f=f.o;"object"===typeof x&&x&&x.constructor===K||O("list_data must be an array");"object"!==typeof f&&O("props must be an object");Q(p,"item component");
Q(f&&L(f).join(","),"common props");m=x.length;t=H;if(!(0>=R(m,m)+m)){n=V();w={};var I=[];x=0<m&&ua(x,w,I);m||V();if(n.L){t=f!==G&&n.P(f,n.ca);for(var W=e(n.ba),B=W.next();!B.done;B=W.next())B=B.value,B in w||(U(n.L[B],a),delete n.L[B]);n.ca=f;n.ba=I}else n.L={},n.X=x?M(w[I[0]]):G,n.ba=I,n.P=(n.ca=f)&&M(f);for(W=c.l=new K(m);0<m;){B=I[--m];var C=n.L[B];if(q=!C)(n.L[B]=k=C={s:{A:p,o:fa({I:w[B]},f)},P:G,J:c,v:l,O:m,u:[],l:G,j:G,m:G,D:J}).u[0]={i:0,T:C},T(a,b),C.j&&a.insertBefore(C.m=C.j,b);else if(va(C,
a,b),t||x&&n.X(w[B],C.s.o.I))(k=C).s.o=fa({I:w[B]},f),T(a,b);(W[C.O=m]=C).m&&(b=C.m)}c.m=b!==d?b:G}}}function U(a,b){b&&a.j&&(b.removeChild(a.j),b=G);if(a.l)for(var c=e(a.l),d=c.next();!d.done;d=c.next())(d=d.value)&&U(d,b);X(a.u);if(a.D){var l,f;(!(f=A[l=a.v])||0>(l=f.indexOf(a)))&&(!(f=D[l])||0>(l=f.indexOf(a)))||f.splice(l,1)}}function X(a){for(var b,c=a.length;1<c;)switch((b=a[--c]).i){case 3:b.H&&b.H.apply(b,g(b.h));break;case 4:b.h=F;break;case 7:wa(b);break;case 12:X(b.u)}}
function ua(a,b,c){var d="object"===typeof a[0],l=V();l.ea||(a[0]!==G&&["object","string","number"].includes(l.ea=typeof a[0])||O("item type invalid"),d&&(!["string","number"].includes(l.ha=typeof a[0].id)&&O("item id type invalid"),l.keys=L(a[0]).join(",")));for(var f=e(a),p=f.next();!p.done;p=f.next())p=p.value,p===G&&O("item is null"),typeof p!==l.ea&&O("item type changed"),d&&(typeof p.id!==l.ha&&O("item id type changed"),L(p).join(",")!==l.keys&&O("item keys differ of "+p.id));a=e(a);for(p=a.next();!p.done;p=
a.next())l=p.value,f=d?l.id:l,f in b&&O("item key not unique: "+f),b[f]=l,c.push(f);return d}function va(a,b,c){if(a.j)return b.insertBefore(a.j,c),a.j;if(a.m){var d=a.l.length;do a.l[--d]&&(c=va(a.l[d],b,c));while(0<d)}return c}function xa(a){for(;0!==a[0].i;){if(!a[0].W.G)return G;a[0].W.G=J;a=a[0].V}return a[0].T}function Y(a){return(a=xa(a))&&!a.D&&(a.D=H,A[a.v]?A[a.v].push(a):A[a.v]=[a],z||Z())}function ya(){P(G,J,G);var a=xa(r);a&&(a.D=H,D[a.v]?D[a.v].push(a):D[a.v]=[a])}
function za(a,b){P(3,J,b);if(u>=r.length)r[u]={i:3,B:S(b),h:b=b||F,H:a.apply(null,g(b))||G};else if(b){var c=r[u];c.B(c.h,b)&&(c.H&&c.H.apply(c,g(c.h)),c.H=a.apply(null,g(c.h=b))||G)}r[u].H&&r[u].H.then&&O("effect function must be synchronous");++u}function Aa(a){P(5,J,G);if(u<r.length)return r[u++].g;var b=r,c=[a,function(d){c[0]!==d&&(c[0]=d,Y(b))},function(){return c[0]}];r[u++]={i:5,g:c};return c}function V(a){return P(6,J,G),(u<r.length?r[u++]:r[u++]={i:6,g:void 0===a?{}:a}).g}
function Ba(a,b){return P(8,J,b),u>=r.length?(r[u++]={i:8,B:S(b),h:b=b||F,g:a.apply(null,g(b))}).g:b&&r[u].B(r[u].h,b)?r[u].g=a.apply(null,g(r[u++].h=b)):r[u++].g}function R(a,b){return P(9,J,G),u<r.length?(b=r[u].g,r[u++].g=a):r[u++]={i:9,g:a},b}function Ca(a,b){return a=setTimeout(function(){return b(H)},a),function(){return clearTimeout(a)}}function wa(a){for(var b=e(a.Y),c=b.next();!c.done;c=b.next())X(a.M[c.value])}function Da(a,b,c){return{$:c.aa,fa:a,Z:v,da:q?v:v+b}}
function Ea(a){"object"===typeof a&&a||O("object required");var b=R(a,G);return b?ta(b,a):L(a)}
function Fa(a){Q(!a,"attributes presence");var b=k.j;if(a){for(var c=e(Ea(a)),d=c.next();!d.done;d=c.next())switch(d=d.value,1<d.length&&d.charAt(0).toLowerCase()!==d.charAt(0)&&O("capital prop: "+d),d.charCodeAt(0)){case 70:"object"===typeof a.F&&a.F||O("invalid css flags");b.className=L(a.F).filter(function(l){return a.F[l]}).join(" ");continue;case 82:"function"!==typeof a.R&&O("invalid ref"),a.R(b);case 67:case 83:continue;default:97>d.charCodeAt(0)&&O("invalid prop: "+d),b[d]=a[d]}Q(!a.S,"style presence");
if(a.S)for(c=e(Ea(a.S)),d=c.next();!d.done;d=c.next())d=d.value,b.style[d]=a.S[d]}return b}function Ga(a,b,c){return"string"===typeof a&&O("component expected, use node_dom instead"),c&&c.constructor!==K&&O("invalid childs type"),{A:a,o:b?c?(b.C=c,b):b:c?{C:c}:G}}
function Z(){q=0>=v;v=ja.now();y&&cancelAnimationFrame(y);z=H;y=0;for(var a,b=0;(a=A).length;){10<++b&&O("rerender loop detected");A=[];a=e(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value){c=e(c);for(var d=c.next();!d.done;d=c.next())if(k=d.value,k.D){if(k.j)T(G,G);else{var l,f=G;d=k.m;for(var p=k,m=k;!(l=(p=p.J).j););do for(var n=m.O,w=(m=m.J).l,t=w.length;++n<t&&w[n]&&!(f=w[n].m););while(!f&&m!==p);m=k;T(l,f);if(m.m!==d)for(;!(m=m.J).j;){d=G;l=e(m.l);for(f=l.next();!(f.done||(f=f.value)&&
(d=f.m));f=l.next());if(d===m.m)break;m.m=d}}q=J}}}z=J;k=r=G;D.length&&(A=D,D=a,Ha())}function Ha(){return y||(y=requestAnimationFrame(Z))}
function Ia(a){var b=E[a];if(!b){var c=a.indexOf("[");b=0>c?a.substr(0):a.substr(0,c);(0===b.length||b!==b.toLowerCase()||b.includes(" ")||b.includes("#")||b.includes("."))&&O("dom: invalid tag");E[a]=b=ha.createElement(b);if(0<c)for(!a.endsWith("]")&&O("dom: ] missing"),a=e(a.substring(c+1,a.length-1).split("][")),c=a.next();!c.done;c=a.next()){c=c.value;!c&&O("dom: empty attribute");(c.includes("[")||c.includes("]"))&&O("dom: attributes screwed up");var d=c.indexOf("=");c.includes(" ")&&(0>d||c.indexOf(" ")<
d)&&O("dom: space in attribute name");0<d?b[c.substr(0,d)]=c.substr(d+1):b[c]=H}}return b}function Ja(a){var b=ba[a];if(!b){var c=Ia(a);ba[a]=b=function(d){return q&&(k.j=c.cloneNode(H)),Fa(d),d&&d.C||G};b.name_="$"+a}return b}ia.onerror=function(){return k&&ma("error in component"),A=D=[],J};define({defer:function(){return k&&O("defer while rendering"),z=H,Ha()},defer_end:function(){return k&&O("defer_end while rendering"),z||O("nothing was deferred"),Z()},hook_assert:function(a){P(G,J,G);if(!a)throw E;},hook_async:function(a,b,c){P(4,J,b);var d,l=N();if((u<r.length?(d=r[u++],J):d=r[u++]={i:4,B:S(b),h:b||F,g:G})||b&&d.B(d.h,b)&&(d.h=b)){void 0!==c&&(d.g=c);var f=r;a.apply(null,g(d.h)).then(function(p){return d.g!==p&&d.h===b&&(d.g=p,Y(f))}).catch(function(p){na(l);throw p;})}return d.g},
hook_callback:function(a,b){var c=u>=r.length?N():"";b&&b.length||O("deps required, use hook_static instead");var d=V();d.h&&ra(d.h,b);d.h=b;return d.ga||(d.ga=function(){var l=h.apply(0,arguments);return oa(a,[].concat(g(d.h),g(l)),c)})},hook_delay:function(a){var b=e(Aa(J)),c=b.next().value;b=b.next().value;za(Ca,[a,b]);return c},hook_dom:function(a,b){return P(G,H,G),k.j?q&&O("hook_dom called twice"):q||O("hook_dom skipped before"),b&&(b.C&&O("hook_dom cannot have childs"),b.R&&O("hook_dom cannot have a ref")),
q&&(k.j=Ia(a).cloneNode(H)),Fa(b||G)},hook_effect:za,hook_first:function(){return P(G,J,G),q},hook_map:function(a,b,c){P(7,J,c);var d=G,l=H;if(u<r.length)if((d=r[u]).U!==a)wa(d),d=G;else if(!d.G||c&&d.B(d.h,c))d.h=c||F,d.G=H;else{if(b===d.N)return++u,d.g;l=J}var f=q,p=r,m=++u,n={},w=[],t=0<b.length&&ua(b,n,w);0===b.length&&V();if(d){if(d.g=[],d.N!==b)for(d.N=b,b=e(d.Y),c=b.next();!c.done;c=b.next())c=c.value,c in n||(X(d.M[c]),delete d.M[c])}else r[m-1]=d={i:7,B:S(c),h:c||F,g:[],G:H,U:a,X:t?M(b[0]):
G,Y:[],M:{},N:b};b=e(w);for(c=b.next();!c.done;c=b.next()){c=c.value;var x=d.M[c];if(q=!x)d.M[c]=x=[{i:1,V:p,W:d,K:G,g:G}];if(l||q||(t?d.X(n[c],x[0].K):n[c]!==x[0].K)){r=x;u=1;try{x[0].g=a.apply(null,[x[0].K=n[c]].concat(g(d.h)))}catch(I){if(I!==E)throw I;}r=p}d.g.push(x[0].g)}q=f;r=p;u=m;d.Y=w;return d.g},hook_memo:Ba,hook_object_changes:Ea,hook_prev:R,hook_reducer:function(a){P(10,J,G);a&&a.constructor!==K&&O("actions array required");"function"===typeof a&&O("array required, use hook_reducer_f instead");
if(u<r.length)return r[u++].g;var b=r,c=N(),d=[(0,a[0])(G),function(l,f){l=oa(a[l],[d[0],f],c);d[0]!==l&&(d[0]=l,Y(b))}];r[u++]={i:10,g:d};return d},hook_reducer_f:function(a,b){P(11,J,G);"function"!==typeof a&&O("reducer function required");b&&"function"!==typeof b&&O("initializer must be a function");if(u<r.length)return r[u++].g;var c=r,d=N(),l=[b?b():G,function(f){f=oa(a,[l[0],f],d);l[0]!==f&&(l[0]=f,Y(c))}];r[u++]={i:11,g:l};return l},hook_rerender:ya,hook_state:Aa,hook_static:V,hook_sub:function(a,
b){P(12,J,b);var c=G;if(u<r.length)if((c=r[u]).U!==a)X(c.u),c=G;else if(!c.G||b&&c.B(c.h,b))b&&(c.h=b),c.G=H;else return++u,c.g;var d=q,l=r,f=u;if(q=!c)(r[u]=c={i:12,B:S(b),h:b||F,g:G,U:a,G:H,u:[]}).u[0]={i:2,V:r,W:c};r=c.u;u=1;try{c.g=a.apply(null,g(c.h))}catch(p){if(p!==E)throw p;}q=d;r=l;u=f+1;return c.g},hook_transition:function(a,b){var c=V({aa:a});a=Ba(Da,[a,b,c]);return c.aa=a.da<=v?a.fa:(ya(),a.Z===v?a.$:a.$+(a.fa-a.$)*(v-a.Z)/(a.da-a.Z))},init:function(a,b){function c(){return(!(d=a())||
2!==d.length)&&O("root component must return [props, childs]"),Q(!d[0],"attributes presence"),d[0]!==G&&("object"!==typeof d[0]&&O("invalid props type"),pa(R(d[0],d[0]),d[0]),d[0].C&&O("root childs must be in second return value")),Fa(d[0]),d[1]}b||O("no root element specified");b.lui&&O("root element already mounted");b.lui=H;"function"!==typeof a&&O("no init function specified");var d;b.innerHTML="";c.name_="$root";(k={s:{A:c,o:G},P:G,J:G,v:0,O:0,u:[],l:G,j:b,m:b,D:H}).u[0]={i:0,T:k};A[0]=[k];k=
r=G;Z()},node:Ga,node_dom:function(a,b,c){return Ga(Ja(a),b,c)},node_map:function(a,b,c){return Ga(M,{A:a,N:b,o:c||G})},now:function(){return v}})})()